<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Room Management</title>
    <script>
// Simplified CORS handler - just adds console debugging
(function() {
    console.log("Using direct base64 uploader to bypass CORS restrictions");
    
    // Keep track of failed requests for debugging
    window.failedRequests = [];
    
    // Monkey patch fetch to log failed Firebase Storage requests
    const originalFetch = window.fetch;
    window.fetch = function(url, options) {
        const promise = originalFetch(url, options);
        
        // Only monitor Firebase Storage requests
        if (typeof url === 'string' && url.includes('firebasestorage.googleapis.com')) {
            promise.catch(error => {
                console.warn('Firebase Storage fetch failed:', error);
                window.failedRequests.push({
                    url,
                    options,
                    error,
                    timestamp: new Date()
                });
            });
        }
        
        return promise;
    };
})();
</script>
    <script type="module" src="../firebase.js"></script>
    <script type="module" src="../AInalysis/auth-check.js"></script>
    <script type="module" src="room_management.js"></script>
    <script type="module" src="../Dashboard/transitions.js"></script>
    <script type="module" src="../js/pageLogger.js"></script>
    <link rel="stylesheet" href="../Dashboard/transitionStyle.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&family=Roboto:wght@400&display=swap" rel="stylesheet">
    <meta name="description" content="Manage rooms, reservations, and more with ease at Lodge Ease.">
    <meta name="robots" content="noindex, nofollow">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>

    <!-- Update the initialization script to include PageLogger -->
    <script type="module">
        import { initializeFirebase } from '../firebase.js';
        import { PageLogger } from '../js/pageLogger.js';
        
        window.addEventListener('load', async () => {
            try {
                await initializeFirebase();
                console.log('Firebase initialized successfully');
                // PageLogger will handle navigation logging through auth state change
            } catch (error) {
                console.error('Error initializing Firebase:', error);
            }
        });
    </script>
    <!-- Add link to client-side styles for lodge cards -->
    <link rel="stylesheet" href="../../ClientSide/Homepage/styles.css">
</head>

<body>
    <div id="app">
        <!-- Common sidebar template for all admin pages -->
        <aside class="sidebar">
            <div class="logo-container">
                <img src="../images/LodgeEaseLogo.png" alt="Lodge Ease Logo" class="logo">
                <h2>Lodge Ease</h2>
            </div>
            <ul>
                <li><a href="../Dashboard/Dashboard.html"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                <li><a href="../Room Management/room_management.html" class="active"><i class="fas fa-bed"></i> Room Management</a></li>
                <li><a href="../Requests/booking_requests.html"><i class="fas fa-clock"></i> Booking Requests</a></li>
                <li><a href="../Billing/billing.html"><i class="fas fa-money-bill-wave"></i> Billing</a></li>
                <li><a href="../Reports/reports.html"><i class="fas fa-chart-line"></i> Reports</a></li>
                <li><a href="../BusinessAnalytics/business_analytics.html"><i class="fas fa-chart-pie"></i> Business Analytics</a></li>
                <li><a href="../ActivityLog/activity_log.html"><i class="fas fa-history"></i> Activity Log</a></li>
                <li><a href="../Settings/settings.html"><i class="fas fa-cog"></i> Settings</a></li>
                <li><a href="../LongTerm/longterm_management.html"><i class="fas fa-home"></i> Long-term Stays</a></li>
                <li><a href="../AInalysis/AInalysis.html"><i class="fas fa-robot"></i> ChatBot</a></li>
            </ul>
            <!-- Add auth buttons -->
            <div class="auth-buttons">
                <button v-if="isAuthenticated" @click="handleLogout" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> 
                    <span>Logout</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div v-if="loading" class="spinner">
                <i class="fas fa-spinner fa-spin"></i>
            </div>
            
            <header>
                <h1>Room Management</h1>
            </header>

            <header class="page-header">
                <div class="header-content">
                    <div class="header-actions">
                        <div class="search-container">
                            <input 
                                type="text" 
                                v-model="searchQuery" 
                                placeholder="Search rooms, guests, or reservations..." 
                                aria-label="Search rooms" 
                                title="Search"
                            >
                            <i class="fas fa-search search-icon"></i>
                        </div>
                        <div class="button-group">
                            <button @click="openAddRoomModal" class="primary-button" title="Add Lodge">
                                <i class="fas fa-plus"></i> Add Lodge
                            </button>
                            <button @click="openAddRoomToLodgeModal" class="primary-button add-room-button" title="Add Room to Lodge">
                                <i class="fas fa-door-open"></i> Add Room
                            </button>
                            <button @click="openManualBookingModal" class="primary-button booking-button" title="Manual Booking">
                                <i class="fas fa-book"></i> Manual Booking
                            </button>
                            <button @click="openClientRoomsModal" class="primary-button client-room-button" title="Client Rooms">
                                <i class="fas fa-globe"></i> Client Rooms
                            </button>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Room Table -->
            <div class="table-container">
                <table class="rooms-table">
                    <thead>
                        <tr>
                            <th>ROOM NUMBER</th>
                            <th>ROOM TYPE</th>
                            <th>FLOOR</th>
                            <th>STATUS</th>
                            <th>CURRENT GUEST</th>
                            <th>CHECK-IN/OUT</th>
                            <th>ACTIONS</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-if="loading">
                            <td colspan="7" class="text-center">Loading bookings...</td>
                        </tr>
                        <tr v-else-if="filteredBookings.length === 0">
                            <td colspan="7" class="text-center">No bookings found</td>
                        </tr>
                        <tr v-else v-for="booking in filteredBookings" :key="booking.id">
                            <td>{{ booking.propertyDetails.roomNumber }}</td>
                            <td>{{ booking.propertyDetails.roomType }}</td>
                            <td>{{ booking.propertyDetails.floorLevel }}</td>
                            <td>
                                <span :class="['status-badge', booking.status.toLowerCase()]">
                                    {{ booking.status }}
                                </span>
                            </td>
                            <td>
                                <div class="guest-info" v-if="booking.guestName !== 'N/A'">
                                    <span class="guest-name">{{ booking.guestName }}</span>
                                    <small class="guest-contact">{{ booking.contactNumber }}</small>
                                </div>
                                <span v-else>No guest</span>
                            </td>
                            <td>
                                <div class="date-info">
                                    <div>In: {{ formatDate(booking.checkIn) }}</div>
                                    <div>Out: {{ formatDate(booking.checkOut) }}</div>
                                </div>
                            </td>
                            <td class="actions">
                                <button @click="viewBookingDetails(booking)" class="action-btn view-btn" title="View Details">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button @click="updateBookingStatus(booking)" class="action-btn status-btn" title="Update Status">
                                    <i class="fas fa-sync-alt"></i>
                                </button>
                                <button @click="deleteBooking(booking)" class="action-btn delete-btn" title="Delete Booking">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Booking Details Modal -->
            <div v-if="selectedBooking" class="modal" @click.self="closeModal">
                <div class="modal-content">
                    <button class="close-btn" @click="closeModal">&times;</button>
                    <h2>Booking Details</h2>
                    <div class="booking-details">
                        <div class="detail-section">
                            <h3>Guest Information</h3>
                            <p><strong>Name:</strong> {{ selectedBooking.guestName || 'N/A' }}</p>
                            <p><strong>Email:</strong> {{ selectedBooking.email || 'N/A' }}</p>
                            <p><strong>Contact:</strong> {{ selectedBooking.contactNumber || 'N/A' }}</p>
                            <p><strong>Number of Guests:</strong> {{ selectedBooking.guests || 'N/A' }}</p>
                        </div>
                        
                        <div class="detail-section">
                            <h3>Room Details</h3>
                            <p><strong>Property:</strong> {{ selectedBooking.propertyDetails?.name || 'N/A' }}</p>
                            <p><strong>Location:</strong> {{ selectedBooking.propertyDetails?.location || 'N/A' }}</p>
                            <p><strong>Room Number:</strong> {{ selectedBooking.propertyDetails?.roomNumber || 'N/A' }}</p>
                            <p><strong>Room Type:</strong> {{ selectedBooking.propertyDetails?.roomType || 'N/A' }}</p>
                            <p><strong>Floor Level:</strong> {{ selectedBooking.propertyDetails?.floorLevel || 'N/A' }}</p>
                        </div>
                        
                        <div class="detail-section">
                            <h3>Booking Details</h3>
                            <p><strong>Check In:</strong> {{ formatDate(selectedBooking.checkIn) }}</p>
                            <p><strong>Check Out:</strong> {{ formatDate(selectedBooking.checkOut) }}</p>
                            <p><strong>Number of Nights:</strong> {{ selectedBooking.numberOfNights || 'N/A' }}</p>
                            <p><strong>Nightly Rate:</strong> ₱{{ selectedBooking.nightlyRate?.toLocaleString() || '0.00' }}</p>
                        </div>
                        
                        <div class="detail-section">
                            <h3>Payment Information</h3>
                            <p><strong>Subtotal:</strong> ₱{{ (selectedBooking.nightlyRate * selectedBooking.numberOfNights)?.toLocaleString() || '0.00' }}</p>
                            <p><strong>Service Fee:</strong> ₱{{ selectedBooking.serviceFee?.toLocaleString() || '0.00' }}</p>
                            <p><strong>Total Amount:</strong> ₱{{ selectedBooking.totalPrice?.toLocaleString() || '0.00' }}</p>
                            <p><strong>Payment Status:</strong> {{ selectedBooking.paymentStatus || 'Pending' }}</p>
                            <p><strong>Booking Status:</strong> {{ selectedBooking.status || 'Pending' }}</p>
                            <p><strong>Booked On:</strong> {{ formatDate(selectedBooking.createdAt) }}</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add Room Modal -->
            <div v-if="showAddRoomModal" class="modal" @click.self="closeAddRoomModal">
                <div class="modal-content lodge-form-content">
                    <button class="close-btn" @click="closeAddRoomModal">&times;</button>
                    <h2>Add New Lodge</h2>
                    <p class="text-gray-600 mb-4">This lodge will be displayed on the client website homepage</p>
                    
                    <form @submit.prevent="addNewLodge" class="add-lodge-form">
                        <!-- Basic Information -->
                        <div class="form-section">
                            <h3>Basic Information</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="lodgeName">Lodge Name*</label>
                                    <input 
                                        type="text" 
                                        id="lodgeName" 
                                        v-model="newLodge.name" 
                                        required 
                                        placeholder="Enter lodge name"
                                    >
                                </div>
                                <div class="form-group">
                                    <label for="propertyType">Property Type*</label>
                                    <select id="propertyType" v-model="newLodge.propertyType" required>
                                        <option value="">Select property type</option>
                                        <option value="hotel">Hotel</option>
                                        <option value="resort">Resort</option>
                                        <option value="vacation-home">Vacation Home</option>
                                        <option value="apartment">Apartment</option>
                                        <option value="bed-breakfast">Bed & Breakfast</option>
                                        <option value="guest-house">Guest House</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="location">Location*</label>
                                    <input 
                                        type="text" 
                                        id="location" 
                                        v-model="newLodge.location" 
                                        required 
                                        placeholder="e.g., Camp John Hay, Baguio City"
                                    >
                                </div>
                                <div class="form-group">
                                    <label for="barangay">Barangay*</label>
                                    <select id="barangay" v-model="newLodge.barangay" required>
                                        <option value="">Select barangay</option>
                                        <option v-for="barangay in barangays" :key="barangay" :value="barangay">
                                            {{ barangay }}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="price">Regular Price (per night)*</label>
                                    <div class="input-with-prefix">
                                        <span class="input-prefix">₱</span>
                                        <input 
                                            type="number" 
                                            id="price" 
                                            v-model="newLodge.price" 
                                            required 
                                            min="0" 
                                            step="0.01"
                                            placeholder="Regular rate per night"
                                        >
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="promoPrice">Promo Price <small>(optional)</small></label>
                                    <div class="input-with-prefix">
                                        <span class="input-prefix">₱</span>
                                        <input 
                                            type="number" 
                                            id="promoPrice" 
                                            v-model="newLodge.promoPrice" 
                                            min="0" 
                                            step="0.01"
                                            placeholder="Special promo rate"
                                        >
                                    </div>
                                    <small class="form-help-text">Leave blank if no promotion is offered</small>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="description">Description*</label>
                                <textarea 
                                    id="description" 
                                    v-model="newLodge.description" 
                                    rows="3"
                                    required
                                    placeholder="Describe this lodge and its unique features"
                                ></textarea>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="rating">Rating (1-5)*</label>
                                    <input 
                                        type="number" 
                                        id="rating" 
                                        v-model="newLodge.rating" 
                                        required 
                                        min="1" 
                                        max="5" 
                                        step="0.1"
                                        placeholder="Ex: 4.5"
                                    >
                                </div>
                                <div class="form-group">
                                    <label for="roomNumber">Room Number (optional)</label>
                                    <input 
                                        type="text" 
                                        id="roomNumber" 
                                        v-model="newLodge.roomNumber" 
                                        placeholder="E.g., Room 101"
                                    >
                                </div>
                            </div>
                        </div>
                        
                        <!-- Map Coordinates -->
                        <div class="form-section">
                            <h3>Map Coordinates</h3>
                            <p class="text-sm text-gray-600 mb-2">These coordinates determine where the lodge appears on the map</p>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="latitude">Latitude*</label>
                                    <input 
                                        type="number" 
                                        id="latitude" 
                                        v-model="newLodge.coordinates.lat" 
                                        required 
                                        step="any"
                                        placeholder="E.g., 16.4023"
                                    >
                                </div>
                                <div class="form-group">
                                    <label for="longitude">Longitude*</label>
                                    <input 
                                        type="number" 
                                        id="longitude" 
                                        v-model="newLodge.coordinates.lng" 
                                        required 
                                        step="any"
                                        placeholder="E.g., 120.5960"
                                    >
                                </div>
                            </div>
                            <div class="coordinate-helper">
                                <button type="button" class="btn secondary-btn" @click="useDefaultCoordinates">
                                    <i class="fas fa-map-marker-alt"></i> Use Baguio City Default
                                </button>
                                <button type="button" class="btn secondary-btn" @click="openMapsInNewTab">
                                    <i class="fas fa-external-link-alt"></i> Open Google Maps
                                </button>
                            </div>
                        </div>
                        
                        <!-- Amenities -->
                        <div class="form-section">
                            <h3>Amenities</h3>
                            <p class="text-sm text-gray-600 mb-2">Select at least 2 amenities that this lodge offers</p>
                            <div class="amenities-grid">
                                <label class="amenity-checkbox" v-for="amenity in availableAmenities" :key="amenity">
                                    <input type="checkbox" :value="amenity" v-model="newLodge.amenities">
                                    <span>{{ amenity }}</span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Image Upload -->
                        <div class="form-section">
                            <h3>Lodge Images</h3>
                            
                            <div class="image-upload-container">
                                <input 
                                    type="file" 
                                    id="lodgeImages" 
                                    @change="handleImageUpload" 
                                    accept="image/*" 
                                    multiple
                                    class="image-input"
                                >
                                <label for="lodgeImages" class="image-upload-label">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <span>Click to upload images</span>
                                    <small>or drag and drop images here</small>
                                </label>
                            </div>
                            
                            <!-- Preview selected images -->
                            <div v-if="selectedImages.length" class="image-preview-container">
                                <div v-for="(image, index) in selectedImages" :key="index" class="image-preview">
                                    <img :src="image.url" :alt="'Lodge image ' + (index + 1)">
                                    <button type="button" @click="removeImage(index)" class="remove-image">
                                        <i class="fas fa-times"></i>
                                    </button>
                                    <div v-if="index === 0" class="main-image-badge">Main Image</div>
                                    
                                    <!-- Upload progress indicator -->
                                    <div v-if="uploadProgress[index]" class="upload-progress" :style="{width: uploadProgress[index] + '%'}"></div>
                                </div>
                            </div>
                            
                            <small class="image-help-text">
                                First image will be the main display image. You can upload up to 5 images (max 5MB each).
                            </small>
                        </div>
                        
                        <!-- Preview -->
                        <div class="form-section">
                            <h3>Lodge Card Preview</h3>
                            <div class="lodge-preview-container">
                                <div class="lodge-card preview">
                                    <div class="relative overflow-hidden">
                                        <img 
                                            :src="previewImage || '../images/default-room.jpg'" 
                                            alt="Lodge Preview" 
                                            class="lodge-image w-full h-48 object-cover"
                                            @error="e => e.target.src = '../images/LodgeEaseLogo.png'"
                                        >
                                        <div class="best-value-badge" v-if="isPreviewBestValue">BEST VALUE</div>
                                        <div class="promo-tag" v-if="newLodge.promoPrice">
                                            <span class="promo-tag-label">NIGHT PROMO</span>
                                            <span class="promo-tag-price">₱{{ newLodge.promoPrice }}</span>
                                        </div>
                                        <button class="favorite-btn">
                                            <i class="ri-heart-line"></i>
                                        </button>
                                    </div>
                                    <div class="content p-4">
                                        <h2 class="text-xl font-semibold mb-2">{{ newLodge.name || 'Lodge Name' }}</h2>
                                        <div class="location flex items-center text-gray-600 mb-2">
                                            <i class="ri-map-pin-line mr-1"></i>
                                            <span>{{ newLodge.location || 'Location' }}</span>
                                        </div>
                                        <div class="amenities flex flex-wrap gap-2 mb-4">
                                            <span v-for="amenity in newLodge.amenities.slice(0, 3)" :key="amenity" class="amenity-tag">
                                                {{ amenity }}
                                            </span>
                                            <span v-if="newLodge.amenities.length > 3" class="amenity-tag">
                                                +{{ newLodge.amenities.length - 3 }} more
                                            </span>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <div class="rating flex items-center">
                                                <span class="text-yellow-400 mr-1">★</span>
                                                <span class="font-medium">{{ newLodge.rating || '0.0' }}</span>
                                            </div>
                                            <div class="price text-lg font-bold" :class="{'text-green-600': isPreviewBestValue}">
                                                ₱{{ newLodge.price ? parseFloat(newLodge.price).toLocaleString() : '0' }}
                                                <span class="text-sm font-normal text-gray-600">/night</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn cancel-btn" @click="closeAddRoomModal">Cancel</button>
                            <button type="submit" class="btn submit-btn" :disabled="loading || !isFormValid">
                                {{ loading ? 'Adding...' : 'Add Lodge to Website' }}
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Manual Booking Modal -->
            <div v-if="showManualBookingModal" class="modal" @click.self="closeManualBookingModal">
                <div class="modal-content">
                    <button class="close-btn" @click="closeManualBookingModal">&times;</button>
                    <h2>Manual Booking</h2>
                    <form @submit.prevent="submitManualBooking" class="manual-booking-form">
                        <!-- Guest Information -->
                        <div class="form-section">
                            <h3>Guest Information</h3>
                            <div class="form-group">
                                <label for="guestName">Guest Name*</label>
                                <input 
                                    type="text" 
                                    id="guestName" 
                                    v-model="manualBooking.guestName" 
                                    required 
                                    placeholder="Enter guest name"
                                >
                            </div>
                            <div class="form-group">
                                <label for="guestEmail">Email</label>
                                <input 
                                    type="email" 
                                    id="guestEmail" 
                                    v-model="manualBooking.email" 
                                    placeholder="Enter guest email"
                                >
                            </div>
                            <div class="form-group">
                                <label for="guestContact">Contact Number*</label>
                                <input 
                                    type="tel" 
                                    id="guestContact" 
                                    v-model="manualBooking.contactNumber" 
                                    required 
                                    placeholder="Enter contact number"
                                >
                            </div>
                        </div>

                        <!-- Booking Details -->
                        <div class="form-section">
                            <h3>Booking Details</h3>
                            <div class="form-group">
                                <label for="bookingEstablishment">Establishment*</label>
                                <select 
                                    id="bookingEstablishment" 
                                    v-model="manualBooking.establishment" 
                                    required
                                    @change="fetchAvailableRooms"
                                >
                                    <option value="">Select establishment</option>
                                    <option value="lodge1">Pine Haven Lodge</option>
                                    <option value="lodge2">Mountain View Lodge</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="bookingRoom">Room*</label>
                                <select 
                                    id="bookingRoom" 
                                    v-model="manualBooking.roomId" 
                                    required
                                    :disabled="!manualBooking.establishment"
                                >
                                    <option value="">Select room</option>
                                    <option 
                                        v-for="room in availableRooms" 
                                        :key="room.id" 
                                        :value="room.id"
                                    >
                                        {{ room.propertyDetails.roomNumber }} - {{ room.propertyDetails.roomType }}
                                        (₱{{ room.price }}/night)
                                    </option>
                                </select>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="checkInDate">Check-in Date*</label>
                                    <input 
                                        type="datetime-local" 
                                        id="checkInDate" 
                                        v-model="manualBooking.checkIn" 
                                        required
                                        :min="minCheckInDate"
                                    >
                                </div>
                                <div class="form-group">
                                    <label for="checkOutDate">Check-out Date*</label>
                                    <input 
                                        type="datetime-local" 
                                        id="checkOutDate" 
                                        v-model="manualBooking.checkOut" 
                                        required
                                        :min="manualBooking.checkIn"
                                    >
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="numberOfGuests">Number of Guests*</label>
                                <input 
                                    type="number" 
                                    id="numberOfGuests" 
                                    v-model="manualBooking.numberOfGuests" 
                                    required 
                                    min="1"
                                >
                            </div>
                        </div>

                        <!-- Payment Information -->
                        <div class="form-section">
                            <h3>Payment Information</h3>
                            <div class="payment-summary">
                                <div class="summary-row">
                                    <span>Room Rate:</span>
                                    <span>₱{{ calculateRoomRate }}</span>
                                </div>
                                <div class="summary-row">
                                    <span>Number of Nights:</span>
                                    <span>{{ calculateNights }}</span>
                                </div>
                                <div class="summary-row">
                                    <span>Subtotal:</span>
                                    <span>₱{{ calculateSubtotal }}</span>
                                </div>
                                <div class="summary-row">
                                    <span>Service Fee (10%):</span>
                                    <span>₱{{ calculateServiceFee }}</span>
                                </div>
                                <div class="summary-row total">
                                    <span>Total Amount:</span>
                                    <span>₱{{ calculateTotal }}</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="paymentStatus">Payment Status*</label>
                                <select id="paymentStatus" v-model="manualBooking.paymentStatus" required>
                                    <option value="Pending">Pending</option>
                                    <option value="Paid">Paid</option>
                                    <option value="Partially Paid">Partially Paid</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn cancel-btn" @click="closeManualBookingModal">Cancel</button>
                            <button type="submit" class="btn submit-btn" :disabled="loading">
                                {{ loading ? 'Processing...' : 'Create Booking' }}
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Client Rooms Modal -->
            <div v-if="showClientRoomsModal" class="modal" @click.self="closeClientRoomsModal">
                <div class="modal-content client-rooms-modal">
                    <button class="close-btn" @click="closeClientRoomsModal">&times;</button>
                    <h2>Homepage Lodge Listings</h2>
                    <p class="subtitle">All lodges visible on the client website</p>
                    
                    <div class="header-actions mb-4">
                        <span class="font-bold">Total Lodges: {{ allClientLodges.length }}</span>
                        <div class="button-group">
                            <button class="primary-button" title="Refresh Lodge Data" @click="fetchClientLodges">
                                <i class="fas fa-sync"></i> Refresh
                            </button>
                            <button class="primary-button" @click="toggleViewMode">
                                <i class="fas fa-th-large"></i> {{viewMode === 'grid' ? 'List View' : 'Grid View'}}
                            </button>
                        </div>
                    </div>
                    
                    <!-- Loading state -->
                    <div v-if="loading" class="loading-overlay">
                        <i class="fas fa-spinner fa-spin"></i>
                        <span>Loading homepage lodges...</span>
                    </div>
                    
                    <!-- Homepage lodges grid -->
                    <div v-if="viewMode === 'grid'" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lodge-container">
                        <!-- Use consistent ID patterns for each lodge card -->
                        <div v-for="lodge in allClientLodges" 
                             :key="'lodge-'+lodge.id" 
                             class="lodge-card" 
                             :id="'lodge-card-'+lodge.id">
                             
                            <!-- Lodge image section with overlay elements -->
                            <div class="relative overflow-hidden" style="height: 160px; max-height: 160px;">
                                <img 
                                    :src="lodge.image || '../../ClientSide/components/1.jpg'" 
                                    :alt="lodge.name"
                                    @error="handleImageError"
                                    class="w-full h-full object-cover"
                                    style="object-position: center; max-height: 100%; display: block;"
                                >
                                <!-- Admin overlay elements -->
                                <div class="ribbon bg-green-600" v-if="lodge.promoPrice">PROMO</div>
                                <div class="html-file-tag" v-if="lodge.htmlFile">{{ lodge.htmlFile }}</div>
                                <!-- Add storage badge -->
                                <div :class="['storage-badge', lodge.htmlFile ? 'html' : 'firestore']">
                                    {{ lodge.htmlFile ? 'HTML' : 'Firestore DB' }}
                                </div>
                                <div class="actions-overlay">
                                    <button @click.stop="viewHomepageLodge(lodge)" class="admin-action-btn" title="View details">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <!-- Add data attributes for better selection -->
                                    <button @click.stop="deleteLodge(lodge)" 
                                            class="admin-action-btn delete-action-btn" 
                                            :data-lodge-id="lodge.id"
                                            title="Delete lodge">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                
                                <!-- Client-side overlay elements (matching rooms.html) -->
                                <div class="best-value-badge" v-if="lodge.promoPrice && lodge.price && lodge.promoPrice < (lodge.price * 0.8)">
                                    BEST VALUE
                                </div>
                                <div class="promo-tag" v-if="lodge.promoPrice">
                                    <span class="promo-tag-label">NIGHT PROMO</span>
                                    <span class="promo-tag-price">₱{{ lodge.promoPrice?.toLocaleString() }}</span>
                                </div>
                                <button class="favorite-btn">
                                    <i class="fas fa-heart"></i>
                                </button>
                            </div>
                            
                            <!-- Lodge content section (matching rooms.html) -->
                            <div class="content p-4">
                                <div class="flex justify-between items-start mb-2">
                                    <h2 class="text-lg font-semibold lodge-title">{{ lodge.name }}</h2>
                                    <div class="flex items-center text-yellow-500 lodge-rating">
                                        <i class="fas fa-star mr-1"></i>
                                        <span>{{ lodge.rating || '4.5' }}</span>
                                    </div>
                                </div>
                                
                                <div class="flex items-center text-gray-600 mb-2 lodge-location">
                                    <i class="fas fa-map-marker-alt mr-1"></i>
                                    <span>{{ lodge.location || 'Baguio City' }}</span>
                                </div>
                                
                                <div v-if="lodge.htmlFile" class="text-blue-600 text-sm mb-2">
                                    <i class="fas fa-file-code mr-1"></i>
                                    {{ lodge.htmlFile }}
                                </div>
                                
                                <div class="flex flex-wrap gap-2 mb-3">
                                    <span v-for="(amenity, index) in (lodge.amenities || []).slice(0, 3)" :key="index"
                                          class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">
                                        {{ amenity }}
                                    </span>
                                    <span v-if="(lodge.amenities || []).length > 3" 
                                          class="bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded">
                                        +{{ (lodge.amenities || []).length - 3 }} more
                                    </span>
                                </div>
                                
                                <div class="flex justify-between items-center mt-2">
                                    <div class="text-sm text-gray-600">
                                        {{ lodge.propertyType || 'Lodge' }}
                                    </div>
                                    <div class="lodge-price">
                                        <div v-if="lodge.promoPrice" class="flex flex-col items-end">
                                            <span class="text-green-600 font-bold price">₱{{ lodge.promoPrice?.toLocaleString() }}</span>
                                            <span class="text-gray-400 text-sm line-through">₱{{ lodge.price?.toLocaleString() }}</span>
                                        </div>
                                        <div v-else class="text-gray-800 font-bold price">
                                            ₱{{ lodge.price?.toLocaleString() }}
                                            <span class="text-gray-500 text-xs">/night</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- List view for lodges -->
                    <div v-else class="lodge-list">
                        <div v-for="lodge in allClientLodges" 
                             :key="'lodge-list-'+lodge.id" 
                             class="lodge-list-item bg-white rounded-lg shadow-md mb-4 flex overflow-hidden" 
                             :id="'lodge-list-'+lodge.id">
                            <div class="lodge-list-image w-1/4" style="height: 140px; max-width: 160px; min-width: 120px;">
                                <img 
                                    :src="lodge.image || '../../ClientSide/components/1.jpg'" 
                                    :alt="lodge.name"
                                    @error="handleImageError"
                                    class="h-full w-full object-cover"
                                    style="object-position: center; display: block;"
                                >
                            </div>
                            <!-- ...existing code... -->
                            <div class="lodge-list-content p-4 flex-grow">
                                <div class="flex justify-between items-start">
                                    <h3 class="text-xl font-semibold">{{ lodge.name }}</h3>
                                    <div class="flex items-center text-yellow-500">
                                        <i class="fas fa-star mr-1"></i>
                                        <span>{{ lodge.rating }}</span>
                                    </div>
                                </div>
                                
                                <div class="text-gray-600 mb-2">
                                    <i class="fas fa-map-marker-alt mr-1"></i>
                                    {{ lodge.location }}
                                </div>
                                
                                <div class="text-blue-600 mb-2" v-if="lodge.htmlFile">
                                    <i class="fas fa-file-code mr-1"></i>
                                    {{ lodge.htmlFile }}
                                </div>
                                
                                <!-- ...existing code... -->
                            </div>
                            <div class="lodge-list-actions p-4 flex flex-col justify-center">
                                <button @click="viewHomepageLodge(lodge)" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 mb-2">
                                    <i class="fas fa-eye mr-1"></i> View
                                </button>
                                <!-- Add data attributes for better selection -->
                                <button @click="deleteLodge(lodge)" 
                                        class="bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700"
                                        :data-lodge-id="lodge.id">
                                    <i class="fas fa-trash mr-1"></i> Delete
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Empty state when no lodges are available -->
                    <div v-if="allClientLodges.length === 0 && !loading" class="empty-state">
                        <i class="fas fa-bed text-4xl mb-2 text-gray-400"></i>
                        <p>No homepage lodges found.</p>
                        <p class="text-sm text-gray-500">
                            Check your client-side rooms.html file to make sure it contains lodge data.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Add Room to Lodge Modal -->
            <div v-if="showAddRoomToLodgeModal" class="modal" @click.self="closeAddRoomToLodgeModal">
                <div class="modal-content">
                    <button class="close-btn" @click="closeAddRoomToLodgeModal">&times;</button>
                    <h2>Add Room to Lodge</h2>
                    
                    <form @submit.prevent="addRoomToLodge" class="add-room-form">
                        <!-- Lodge Selection -->
                        <div class="form-section">
                            <h3>Select Lodge</h3>
                            <div class="form-group">
                                <label for="selectLodge">Lodge*</label>
                                <select id="selectLodge" v-model="newRoom.lodgeId" required @change="loadLodgeDetails">
                                    <option value="">Select a lodge</option>
                                    <option v-for="lodge in availableLodges" :key="lodge.id" :value="lodge.id">
                                        {{ lodge.name }} ({{ lodge.htmlFile }})
                                    </option>
                                </select>
                                <small class="form-help-text">Select the lodge HTML file to add this room to</small>
                            </div>
                        </div>
                        
                        <!-- Room Details -->
                        <div class="form-section">
                            <h3>Room Details</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="roomNumber">Room Number*</label>
                                    <input 
                                        type="text" 
                                        id="roomNumber" 
                                        v-model="newRoom.roomNumber" 
                                        required 
                                        placeholder="e.g., 101"
                                    >
                                </div>
                                <div class="form-group">
                                    <label for="roomType">Room Type*</label>
                                    <select id="roomType" v-model="newRoom.roomType" required>
                                        <option value="">Select room type</option>
                                        <option value="Standard">Standard</option>
                                        <option value="Deluxe">Deluxe</option>
                                        <option value="Suite">Suite</option>
                                        <option value="Family">Family</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="floorLevel">Floor Level*</label>
                                    <input 
                                        type="text" 
                                        id="floorLevel" 
                                        v-model="newRoom.floorLevel" 
                                        required 
                                        placeholder="e.g., 1st Floor"
                                    >
                                </div>
                                <div class="form-group">
                                    <label for="roomPrice">Price per Night*</label>
                                    <div class="input-with-prefix">
                                        <span class="input-prefix">₱</span>
                                        <input 
                                            type="number" 
                                            id="roomPrice" 
                                            v-model="newRoom.price" 
                                            required 
                                            min="0" 
                                            step="0.01"
                                            placeholder="Price per night"
                                        >
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="roomDescription">Description*</label>
                                <textarea 
                                    id="roomDescription" 
                                    v-model="newRoom.description" 
                                    rows="3"
                                    required
                                    placeholder="Describe this room"
                                ></textarea>
                            </div>

                            <div class="form-group">
                                <label for="roomStatus">Status*</label>
                                <select id="roomStatus" v-model="newRoom.status" required>
                                    <option value="Available">Available</option>
                                    <option value="Occupied">Occupied</option>
                                    <option value="Maintenance">Maintenance</option>
                                    <option value="Reserved">Reserved</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="maxOccupancy">Maximum Occupancy*</label>
                                <input 
                                    type="number" 
                                    id="maxOccupancy" 
                                    v-model="newRoom.maxOccupants" 
                                    required 
                                    min="1"
                                    placeholder="e.g., 2"
                                >
                            </div>
                        </div>

                        <!-- Room Amenities -->
                        <div class="form-section">
                            <h3>Room Amenities</h3>
                            <p class="text-sm text-gray-600 mb-2">Select amenities available in this room</p>
                            <div class="amenities-grid">
                                <label class="amenity-checkbox" v-for="amenity in roomAmenities" :key="amenity">
                                    <input type="checkbox" :value="amenity" v-model="newRoom.amenities">
                                    <span>{{ amenity }}</span>
                                </label>
                            </div>
                        </div>

                        <!-- Room Images -->
                        <div class="form-section">
                            <h3>Room Images</h3>
                            <div class="image-upload-container">
                                <input 
                                    type="file" 
                                    id="roomImages" 
                                    @change="handleRoomImageUpload" 
                                    accept="image/*" 
                                    multiple
                                    class="image-input"
                                >
                                <label for="roomImages" class="image-upload-label">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <span>Click to upload room images</span>
                                    <small>or drag and drop images here</small>
                                </label>
                            </div>
                            
                            <!-- Preview selected images -->
                            <div v-if="roomImages.length" class="image-preview-container">
                                <div v-for="(image, index) in roomImages" :key="index" class="image-preview">
                                    <img :src="image.url" :alt="'Room image ' + (index + 1)">
                                    <button type="button" @click="removeRoomImage(index)" class="remove-image">
                                        <i class="fas fa-times"></i>
                                    </button>
                                    <div v-if="index === 0" class="main-image-badge">Main Image</div>
                                </div>
                            </div>
                            
                            <small class="image-help-text">
                                First image will be the main display image. You can upload up to 5 images (max 5MB each).
                            </small>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn cancel-btn" @click="closeAddRoomToLodgeModal">Cancel</button>
                            <button type="submit" class="btn submit-btn" :disabled="loading || !isRoomFormValid">
                                {{ loading ? 'Adding...' : 'Add Room' }}
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Fix the misplaced script tag -->
    <script>
        // Add this right before the Vue instance to update the defaultImage path
        document.addEventListener('DOMContentLoaded', () => {
            // Fix potential image path issues by ensuring we use the right paths
            if (window.app) {
                app.defaultImage = window.location.origin + '/LodgeEase/LodgeEase-Latest/ClientSide/components/default-room.jpg';
            }
        });
    </script>

    <!-- Replace the fetchClientLodges script with this more aggressive version -->
<script type="module">
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            if (window.app) {
                // COMPLETELY REPLACE the fetchClientLodges method with HTML-only lodges
                window.app.fetchClientLodges = async function() {
                    try {
                        this.loading = true;
                        console.log('Starting new HTML-only lodge fetch with prioritized lodges...');

                        // ONLY create HTML-based lodges, no Firestore
                        const htmlLodges = [];
                        
                        // Add lodge1 through lodge13 (HTML files) manually
                        const lodgeDetails = {
                            'lodge1': {
                                name: 'Pine Haven Lodge',
                                location: 'Baguio City',
                                rating: '4.8',
                                price: 6500,
                                propertyType: 'Resort',
                                amenities: ['WiFi', 'Parking', 'Room Service'],
                                description: 'A peaceful retreat in the mountains',
                                image: '../../ClientSide/components/1.jpg'
                            },
                            'lodge3': {
                                name: 'Baguio Hillside Retreat',
                                location: 'Baguio City',
                                rating: '4.9',
                                price: 3200,
                                propertyType: 'Cabin',
                                amenities: ['Mountain View', 'WiFi', 'Fireplace'],
                                description: 'A cozy mountain retreat with spectacular views.',
                                image: '../../ClientSide/components/3.jpg'
                            },
                            'lodge4': {
                                name: 'The Forest Lodge',
                                location: 'Baguio City',
                                rating: '4.7',
                                price: 3200,
                                propertyType: 'Lodge',
                                amenities: ['Forest View', 'Private Bath', 'Breakfast'],
                                description: 'Experience the tranquility of the forest in this comfortable lodge.',
                                image: '../../ClientSide/components/4.jpg'
                            },
                            'lodge5': {
                                name: 'Super Apartment',
                                location: 'Bonifacio Street, Baguio City',
                                rating: '4.3',
                                price: 6000,
                                propertyType: 'Apartment',
                                amenities: ['City View', 'WiFi', 'Near Eatery'],
                                description: 'Located in Upper Bonifacion Street, affordable rooms with comfort and security.',
                                image: '../../ClientSide/components/SuperApartmentRoom6.jpg'
                            },
                            'lodge13': {
                                name: 'Ever Lodge',
                                location: 'Baguio City',
                                rating: '4.4',
                                price: 1300,
                                propertyType: 'Lodge',
                                amenities: ['WiFi', 'Garden', 'Restaurant'],
                                description: 'Traditional lodge with modern amenities',
                                image: '../../ClientSide/components/6.jpg'
                            },
                            'lodge2': {
                                name: 'Mountain View Lodge',
                                location: 'Baguio City',
                                rating: '4.7',
                                price: 3750,
                                propertyType: 'Hotel',
                                amenities: ['Mountain View', 'Restaurant', 'Bar'],
                                description: 'Experience luxury in the mountains'
                            },
                            'lodge6': {
                                name: 'Sky View Resort',
                                location: 'Baguio City',
                                rating: '4.6',
                                price: 4200,
                                propertyType: 'Resort',
                                amenities: ['Pool', 'Spa', 'Room Service'],
                                description: 'Luxury resort with panoramic views'
                            },
                            'lodge7': {
                                name: 'Cozy Mountain Retreat',
                                location: 'Baguio City',
                                rating: '4.5',
                                price: 2800,
                                propertyType: 'Cabin', 
                                amenities: ['Fireplace', 'Kitchen', 'Parking'],
                                description: 'A charming cabin nestled in the hills'
                            }
                        };

                        // First add the prioritized lodges
                        const prioritizedLodges = ['lodge1', 'lodge3', 'lodge4', 'lodge5', 'lodge13'];
                        
                        prioritizedLodges.forEach(id => {
                            const htmlFile = `${id}.html`;
                            const details = lodgeDetails[id];
                            
                            if (details) {
                                htmlLodges.push({
                                    id: id,
                                    name: details.name,
                                    htmlFile: htmlFile,
                                    location: details.location,
                                    rating: details.rating,
                                    price: details.price,
                                    propertyType: details.propertyType,
                                    amenities: details.amenities,
                                    description: details.description,
                                    image: details.image || `../../ClientSide/components/${(parseInt(id.replace('lodge', '')) % 10) + 1}.jpg`
                                });
                            }
                        });
                        
                        // Then generate the rest
                        for (let i = 1; i <= 13; i++) {
                            const id = `lodge${i}`;
                            
                            // Skip prioritized lodges as we've already added them
                            if (prioritizedLodges.includes(id)) continue;
                            
                            const htmlFile = `${id}.html`;
                            
                            // Use specific details if available, otherwise use generic ones
                            const specificDetails = lodgeDetails[id] || {
                                name: `Lodge ${i}`,
                                location: 'Baguio City',
                                rating: '4.5',
                                price: 3000 + (i * 200),
                                propertyType: 'Lodge',
                                amenities: ['WiFi', 'Parking', 'Mountain View'],
                                description: `Standard lodge accommodation in Baguio City`
                            };

                            // Use specific image if provided or generate one
                            const image = specificDetails.image || `../../ClientSide/components/${(i % 10) + 1}.jpg`;

                            // Push the lodge with complete details
                            htmlLodges.push({
                                id: id,
                                name: specificDetails.name,
                                htmlFile: htmlFile,
                                location: specificDetails.location,
                                rating: specificDetails.rating,
                                price: specificDetails.price,
                                propertyType: specificDetails.propertyType,
                                amenities: specificDetails.amenities,
                                description: specificDetails.description,
                                image: image
                            });
                        }
                        
                        // IMPORTANT: Replace the entire array, do not merge with existing data
                        this.allClientLodges = [...htmlLodges];
                        
                        // Ensure the prioritized lodges have the correct information
                        prioritizedLodges.forEach(lodgeId => {
                            const lodge = this.allClientLodges.find(l => l.id === lodgeId);
                            const details = lodgeDetails[lodgeId];
                            
                            if (lodge && details) {
                                // Update all properties to ensure correct data
                                Object.assign(lodge, details);
                                // Ensure the htmlFile property is kept
                                lodge.htmlFile = `${lodgeId}.html`;
                            }
                        });

                        console.log(`HTML-only lodges loaded: ${this.allClientLodges.length} total`);
                        console.log(`Prioritized lodge details verified: ${prioritizedLodges.join(', ')}`);
                        
                        // Double-check that all lodges have an HTML file attribute
                        const nonHtmlLodges = this.allClientLodges.filter(lodge => !lodge.htmlFile);
                        if (nonHtmlLodges.length > 0) {
                            console.warn(`Found ${nonHtmlLodges.length} lodges without htmlFile property - removing them`);
                            this.allClientLodges = this.allClientLodges.filter(lodge => lodge.htmlFile);
                        }
                    } catch (error) {
                        console.error('Error in HTML-only lodge fetching:', error);
                        
                        // Create a minimal fallback with the prioritized lodges
                        this.allClientLodges = [
                            {
                                id: 'lodge1',
                                name: 'Pine Haven Lodge',
                                htmlFile: 'lodge1.html',
                                location: 'Baguio City',
                                rating: '4.8',
                                price: 6500,
                                propertyType: 'Resort',
                                amenities: ['WiFi', 'Parking', 'Room Service'],
                                image: '../../ClientSide/components/1.jpg',
                                description: 'A peaceful retreat in the mountains'
                            },
                            {
                                id: 'lodge3',
                                name: 'Baguio Hillside Retreat',
                                htmlFile: 'lodge3.html',
                                location: 'Baguio City',
                                rating: '4.9',
                                price: 3200,
                                propertyType: 'Cabin',
                                amenities: ['Mountain View', 'WiFi', 'Fireplace'],
                                image: '../../ClientSide/components/3.jpg',
                                description: 'A cozy mountain retreat with spectacular views.'
                            },
                            {
                                id: 'lodge4',
                                name: 'The Forest Lodge',
                                htmlFile: 'lodge4.html',
                                location: 'Baguio City',
                                rating: '4.7',
                                price: 3200,
                                propertyType: 'Lodge',
                                amenities: ['Forest View', 'Private Bath', 'Breakfast'],
                                image: '../../ClientSide/components/4.jpg',
                                description: 'Experience the tranquility of the forest in this comfortable lodge.'
                            },
                            {
                                id: 'lodge5',
                                name: 'Super Apartment',
                                htmlFile: 'lodge5.html',
                                location: 'Bonifacio Street, Baguio City',
                                rating: '4.3',
                                price: 6000,
                                propertyType: 'Apartment',
                                amenities: ['City View', 'WiFi', 'Near Eatery'],
                                image: '../../ClientSide/components/SuperApartmentRoom6.jpg',
                                description: 'Located in Upper Bonifacion Street, affordable rooms with comfort and security.'
                            },
                            {
                                id: 'lodge13',
                                name: 'Ever Lodge',
                                htmlFile: 'lodge13.html',
                                location: 'Baguio City',
                                rating: '4.4',
                                price: 1300,
                                propertyType: 'Lodge',
                                amenities: ['WiFi', 'Garden', 'Restaurant'],
                                image: '../../ClientSide/components/6.jpg',
                                description: 'Traditional lodge with modern amenities'
                            }
                        ];
                    } finally {
                        this.loading = false;
                    }
                };

                // ALSO replace openClientRoomsModal to ensure no Firestore lodges appear
                const originalOpenClientRoomsModal = window.app.openClientRoomsModal;
                
                window.app.openClientRoomsModal = async function() {
                    console.log('Enhanced openClientRoomsModal called');
                    
                    // Reset the entire array before loading
                    this.allClientLodges = [];
                    
                    // Call original method
                    await originalOpenClientRoomsModal.call(this);
                    
                    // EXTRA SAFETY: Manually verify all lodges are HTML-based
                    if (this.allClientLodges && Array.isArray(this.allClientLodges)) {
                        // Only keep lodges with an htmlFile property that ends with .html
                        this.allClientLodges = this.allClientLodges.filter(lodge => 
                            lodge && lodge.htmlFile && 
                            typeof lodge.htmlFile === 'string' && 
                            lodge.htmlFile.endsWith('.html')
                        );
                        console.log(`After HTML-only filtering: ${this.allClientLodges.length} lodges remain`);
                        
                        // Force Vue to update
                        if (this.$forceUpdate) {
                            this.$forceUpdate();
                        }
                    }
                };
                
                console.log('Replaced lodge display methods with HTML-only versions including lodge13');
            }
        }, 500);
    });
</script>

<!-- Add a DOM-based filter to clear all non-HTML cards -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Set up observer to watch for lodge cards appearing in the DOM
        const observer = new MutationObserver((mutations) => {
            for (const mutation of mutations) {
                if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
                    let needsUpdate = false;
                    
                    // Check for the lodge container
                    const lodgeContainer = document.querySelector('.lodge-container');
                    if (lodgeContainer) {
                        // Get all lodge cards
                        const lodgeCards = lodgeContainer.querySelectorAll('.lodge-card');
                        
                        lodgeCards.forEach(card => {
                            // Check if this card has an HTML file tag
                            const htmlFileTag = card.querySelector('.html-file-tag');
                            const htmlBadge = card.querySelector('.storage-badge.html');
                            
                            // If no HTML file tag or HTML badge, remove it (it's a Firestore lodge)
                            if (!htmlFileTag && !htmlBadge) {
                                console.log('Removing non-HTML lodge card:', card);
                                card.remove();
                                needsUpdate = true;
                            }
                        });
                        
                        // If we removed cards, update the count display
                        if (needsUpdate && window.app) {
                            const remainingCards = lodgeContainer.querySelectorAll('.lodge-card').length;
                            console.log(`After DOM cleaning: ${remainingCards} lodge cards remain`);
                            
                            // Update the count in any header elements
                            const countElement = document.querySelector('.header-actions .font-bold');
                            if (countElement) {
                                countElement.textContent = `Total Lodges: ${remainingCards}`;
                            }
                            
                            // Force Vue to update data array too
                            if (window.app.allClientLodges && Array.isArray(window.app.allClientLodges)) {
                                window.app.allClientLodges = window.app.allClientLodges.filter(lodge => 
                                    lodge && lodge.htmlFile && typeof lodge.htmlFile === 'string' && 
                                    lodge.htmlFile.endsWith('.html')
                                );
                            }
                        }
                    }
                }
            }
        });
        
        // Start observing once the modal is likely to be open
        setTimeout(() => {
            observer.observe(document.body, { childList: true, subtree: true });
            console.log('DOM observer initialized to remove non-HTML lodge cards');
        }, 2000);
        
        // Cleanup after 10 minutes
        setTimeout(() => {
            observer.disconnect();
            console.log('DOM observer disconnected');
        }, 600000);
    });
</script>

<!-- Add a direct click handler to filter lodges when the client rooms button is clicked -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            // Add direct click handler to the client rooms button
            const clientRoomsBtn = document.querySelector('.client-room-button');
            if (clientRoomsBtn) {
                clientRoomsBtn.addEventListener('click', () => {
                    console.log('Client Rooms button clicked - ensuring HTML-only lodges');
                    
                    // Wait for the modal to open and lodges to load
                    setTimeout(() => {
                        if (window.app && window.app.allClientLodges) {
                            // Replace with HTML-only lodges
                            const htmlOnlyLodges = window.app.allClientLodges.filter(lodge => 
                                lodge && lodge.htmlFile && 
                                typeof lodge.htmlFile === 'string' && 
                                lodge.htmlFile.endsWith('.html')
                            );
                            
                            console.log(`Filtered HTML-only lodges: ${htmlOnlyLodges.length}`);
                            window.app.allClientLodges = htmlOnlyLodges;
                            
                            // Force Vue to update
                            if (window.app.$forceUpdate) {
                                window.app.$forceUpdate();
                                
                                // Check for Firestore cards even after update
                                setTimeout(() => {
                                    const lodgeContainer = document.querySelector('.lodge-container');
                                    if (lodgeContainer) {
                                        const cards = lodgeContainer.querySelectorAll('.lodge-card');
                                        const firestoreCards = Array.from(cards).filter(card => {
                                            const badge = card.querySelector('.storage-badge');
                                            return badge && !badge.classList.contains('html');
                                        });
                                        
                                        // Remove any Firestore cards that might have slipped through
                                        firestoreCards.forEach(card => {
                                            console.log('Removing persistent Firestore card:', card);
                                            card.remove();
                                        });
                                    }
                                }, 300);
                            }
                        }
                    }, 500);
                });
            }
        }, 1000);
    });
</script>

    <script type="module">
        // Import Firebase modules
        import { db } from '../firebase.js';
        
        // Wait for Vue app to be created
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                if (window.app) {
                    // Expose Firestore db to the Vue instance so DirectUploader can access it
                    window.app.$options = window.app.$options || {};
                    window.app.$options.db = db;
                    
                    console.log('Firestore DB reference attached to Vue app');
                }
            }, 500);
        });
    </script>

    <script type="module">
    // Import the direct uploader module
    import { DirectUploader } from './direct-uploader.js';

    // Make it globally available
    window.DirectUploader = DirectUploader;

    // This will override the existing upload method when Vue is ready
    document.addEventListener('DOMContentLoaded', () => {
        // Wait for Vue to be mounted
        setTimeout(() => {
            if (window.app) {
                console.log('Applying direct uploader to Vue instance');
                // Store original method
                const originalUpload = window.app.uploadImages;
                
                // Override with our wrapper method
                window.app.uploadImages = async function(roomId) {
                    try {
                        console.log('Using DirectUploader');
                        const uploader = new DirectUploader(window.app);
                        return await uploader.uploadImages(roomId, this.selectedImages);
                    } catch (err) {
                        console.error('DirectUploader failed:', err);
                        console.log('Falling back to original upload method');
                        return await originalUpload.call(this, roomId);
                    }
                };
            }
        }, 1000); // Wait 1 second for Vue to be fully mounted
    });
    </script>

    <script>
        // Add this right before the Vue instance to update the defaultImage path
        document.addEventListener('DOMContentLoaded', () => {
            // Preload fallback images to ensure they're in the browser cache
            const preloadImages = [
                '../images/default-room.jpg',
                '../images/LodgeEaseLogo.png',
                '../../ClientSide/components/default-room.jpg',
                '../../ClientSide/components/LodgeEaseLogo.png',
                '../../ClientSide/components/1.jpg',
                '../../ClientSide/components/3.jpg'  // Add lodge3's main image
            ];
            
            preloadImages.forEach(path => {
                const img = new Image();
                img.src = path;
            });
            
            // Fix potential image path issues by ensuring we use the right paths
            if (window.app) {
                app.defaultImage = '../../ClientSide/components/1.jpg';
            }
        });
    </script>

    <!-- Add this style block before closing </body> tag -->
    <style>
        /* Fix lodge card image sizing */
        .lodge-card {
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
        }
        
        .lodge-card .relative {
            flex: 0 0 160px;
        }
        
        .lodge-card .content {
            flex: 1;
        }
        
        /* Ensure images maintain proper ratio */
        .lodge-card img, .lodge-list-image img {
            object-fit: cover;
            width: 100%;
            height: 100%;
            display: block;
        }
        
        /* Better error handling for failed images */
        img.error {
            object-fit: contain;
            background-color: #f0f0f0;
        }
        
        /* Add animation for lodge cards being deleted */
        .lodge-card, .lodge-list-item {
            transition: all 0.3s ease;
        }
        
        .lodge-card.deleting, .lodge-list-item.deleting {
            opacity: 0.5;
            transform: scale(0.95);
            pointer-events: none;
        }
        
        /* Extra styles to make the delete button more prominent */
        .delete-action-btn:hover {
            background-color: rgba(220, 38, 38, 0.9) !important;
            transform: scale(1.1);
        }
        
        /* Improve deletion animation */
        .lodge-card.deleting, .lodge-list-item.deleting {
            opacity: 0.5;
            transform: scale(0.95);
            pointer-events: none;
            position: relative;
        }
        
        /* Add spinner to elements being deleted */
        .lodge-card.deleting::after, .lodge-list-item.deleting::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            width: 30px;
            height: 30px;
            margin: -15px 0 0 -15px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: #1e3c72;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>

    <script>
    // Add this helper function to debug lodge card rendering issues
    document.addEventListener('DOMContentLoaded', () => {
        // After Vue has initialized (with a slight delay)
        setTimeout(() => {
            // Register a MutationObserver to watch for changes to the lodge cards
            const lodgeContainer = document.querySelector('.lodge-container');
            if (lodgeContainer) {
                const observer = new MutationObserver((mutations) => {
                    // Check newly added nodes
                    mutations.forEach(mutation => {
                        if (mutation.type === 'childList') {
                            mutation.addedNodes.forEach(node => {
                                if (node.classList && node.classList.contains('lodge-card')) {
                                    console.log('Lodge card added to DOM:', node.id);
                                }
                            });
                            mutation.removedNodes.forEach(node => {
                                if (node.classList && node.classList.contains('lodge-card')) {
                                    console.log('Lodge card removed from DOM:', node.id);
                                }
                            });
                        }
                    });
                });
                
                // Start observing changes
                observer.observe(lodgeContainer, { childList: true, subtree: true });
                console.log('DOM observer for lodge cards initialized');
            }
        }, 2000);
    });
    </script>

    <!-- Add a direct script to force lodge3 to appear in the client rooms modal -->
    <script type="module">
        // Function to directly add lodge3 to the client rooms listing
        function forceLodge3Display() {
            if (!window.app || !window.app.allClientLodges) {
                console.warn('App or client lodges not available yet');
                return false;
            }
            
            // Check if lodge3 already exists
            const lodge3 = window.app.allClientLodges.find(lodge => 
                lodge.id === 'lodge3' || 
                (lodge.htmlFile && lodge.htmlFile === 'lodge3.html')
            );
            
            if (!lodge3) {
                // Add lodge3 to the array
                window.app.allClientLodges.push({
                    id: 'lodge3',
                    name: 'Baguio Hillside Retreat',
                    htmlFile: 'lodge3.html',
                    location: 'Baguio City',
                    rating: '4.9',
                    price: 3200,
                    amenities: ['Mountain View', 'WiFi', 'Fireplace'],
                    propertyType: 'Cabin',
                    image: '../../ClientSide/components/3.jpg',
                    description: 'A cozy mountain retreat with spectacular views.'
                });
                console.log('Forcibly added lodge3.html to client rooms listing');
                return true;
            } else {
                console.log('lodge3 already exists in the client rooms listing');
                return false;
            }
        }
        
        // Wait for Vue and then override the client rooms modal open function
        document.addEventListener('DOMContentLoaded', () => {
            // Try repeatedly for 10 seconds to ensure we catch the Vue instance
            let attempts = 0;
            const maxAttempts = 20; // 20 * 500ms = 10 seconds
            
            const tryOverride = () => {
                if (attempts >= maxAttempts) {
                    console.warn('Failed to override client rooms modal after max attempts');
                    return;
                }
                
                attempts++;
                
                if (window.app && window.app.openClientRoomsModal) {
                    // Save original method
                    const originalOpenClientRoomsModal = window.app.openClientRoomsModal;
                    
                    // Replace with our enhanced version
                    window.app.openClientRoomsModal = async function() {
                        console.log('Enhanced openClientRoomsModal called');
                        
                        // Call original method first
                        await originalOpenClientRoomsModal.call(this);
                        
                        // Now forcibly add lodge3
                        setTimeout(() => {
                            if (forceLodge3Display()) {
                                // Force Vue to update the DOM if we added lodge3
                                if (this.$forceUpdate) {
                                    this.$forceUpdate();
                                    console.log('Forced Vue to update after adding lodge3');
                                }
                            }
                        }, 200);
                    };
                    
                    console.log('Successfully overrode openClientRoomsModal method');
                } else {
                    // Try again in 500ms
                    setTimeout(tryOverride, 500);
                }
            };
            
            // Start trying to override
            setTimeout(tryOverride, 500);
        });

        // As a last resort, add a global click handler for the client rooms button
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                const clientRoomsBtn = document.querySelector('.client-room-button');
                if (clientRoomsBtn) {
                    clientRoomsBtn.addEventListener('click', () => {
                        // Wait a second for the modal to open and data to load
                        setTimeout(() => {
                            if (forceLodge3Display() && window.app.$forceUpdate) {
                                window.app.$forceUpdate();
                            }
                        }, 1000);
                    });
                    console.log('Added direct click handler for client rooms button');
                }
            }, 2000);
        });
    </script>

    <!-- Add dedicated script to monitor lodge3 visibility -->
    <script>
        // When the client rooms modal is shown, check if lodge3 is visible and add it if not
        document.addEventListener('DOMContentLoaded', () => {
            // Function to check if the modal is visible
            function isClientRoomsModalVisible() {
                const modal = document.querySelector('.client-rooms-modal');
                return modal && window.getComputedStyle(modal).display !== 'none';
            }
            
            // Function to find lodge3 card in the DOM
            function findLodge3Card() {
                const lodgeCards = document.querySelectorAll('.lodge-card');
                for (const card of lodgeCards) {
                    const titleEl = card.querySelector('.lodge-title');
                    if (titleEl && titleEl.textContent.includes('Baguio Hillside Retreat')) {
                        return card;
                    }
                    
                    // Also check for HTML file indicator
                    const htmlFileTag = card.querySelector('.html-file-tag');
                    if (htmlFileTag && htmlFileTag.textContent.includes('lodge3.html')) {
                        return card;
                    }
                }
                return null;
            }
            
            // Check periodically if the modal is visible but lodge3 is missing
            const checkInterval = setInterval(() => {
                if (isClientRoomsModalVisible()) {
                    const lodge3Card = findLodge3Card();
                    if (!lodge3Card) {
                        console.warn('Lodge3 card not found in visible client rooms modal');
                        
                        // Force lodge3 to appear
                        if (window.app && window.app.allClientLodges) {
                            const lodge3Exists = window.app.allClientLodges.some(lodge => 
                                lodge.id === 'lodge3' || 
                                (lodge.htmlFile && lodge.htmlFile === 'lodge3.html')
                            );
                            
                            if (!lodge3Exists) {
                                // Add lodge3 to the array
                                window.app.allClientLodges.push({
                                    id: 'lodge3',
                                    name: 'Baguio Hillside Retreat',
                                    htmlFile: 'lodge3.html',
                                    location: 'Baguio City',
                                    rating: '4.9',
                                    price: 3200,
                                    amenities: ['Mountain View', 'WiFi', 'Fireplace'],
                                    propertyType: 'Cabin',
                                    image: '../../ClientSide/components/3.jpg',
                                    description: 'A cozy mountain retreat with spectacular views.'
                                });
                                
                                // Force Vue to update
                                if (window.app.$forceUpdate) {
                                    window.app.$forceUpdate();
                                    console.log('Forced lodge3 into client rooms display');
                                }
                            }
                        }
                    }
                }
            }, 1000); // Check every second
            
            // Clean up after 2 minutes to avoid memory leaks
            setTimeout(() => {
                clearInterval(checkInterval);
            }, 120000);
        });
    </script>

    <!-- Manual registry for lodge3 when clicking the Client Rooms button -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                const clientRoomsButton = document.querySelector('.client-room-button');
                if (clientRoomsButton) {
                    clientRoomsButton.addEventListener('click', (event) => {
                        console.log('Client Rooms button clicked - will inject lodge3');
                        
                        // Wait for the modal to open
                        setTimeout(() => {
                            // Create the lodge3 data
                            const lodge3Data = {
                                id: 'lodge3',
                                name: 'Baguio Hillside Retreat',
                                htmlFile: 'lodge3.html',
                                location: 'Baguio City',
                                rating: '4.9',
                                price: 3200,
                                amenities: ['Mountain View', 'WiFi', 'Fireplace'],
                                propertyType: 'Cabin',
                                image: '../../ClientSide/components/3.jpg',
                                description: 'A cozy mountain retreat with spectacular views.'
                            };
                            
                            // Directly inject the lodge card into the DOM if Vue doesn't add it
                            setTimeout(() => {
                                const lodgeContainer = document.querySelector('.lodge-container');
                                const existingLodge3 = document.getElementById('lodge-card-lodge3');
                                
                                if (lodgeContainer && !existingLodge3) {
                                    console.log('Manually inserting lodge3 into the DOM');
                                    
                                    // Create a new lodge card
                                    const lodge3Card = document.createElement('div');
                                    lodge3Card.id = 'lodge-card-lodge3';
                                    lodge3Card.className = 'lodge-card';
                                    
                                    // Create the HTML content for the lodge card
                                    lodge3Card.innerHTML = `
                                        <div class="relative overflow-hidden" style="height: 160px; max-height: 160px;">
                                            <img 
                                                src="../../ClientSide/components/3.jpg" 
                                                alt="Baguio Hillside Retreat"
                                                class="w-full h-full object-cover"
                                                style="object-position: center; max-height: 100%; display: block;"
                                            >
                                            <div class="html-file-tag">lodge3.html</div>
                                            <div class="storage-badge html">HTML</div>
                                            <div class="actions-overlay">
                                                <button class="admin-action-btn view-btn" title="View details">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button class="admin-action-btn delete-action-btn" data-lodge-id="lodge3" title="Delete lodge">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </div>
                                            <button class="favorite-btn">
                                                <i class="fas fa-heart"></i>
                                            </button>
                                        </div>
                                        <div class="content p-4">
                                            <div class="flex justify-between items-start mb-2">
                                                <h2 class="text-lg font-semibold lodge-title">Baguio Hillside Retreat</h2>
                                                <div class="flex items-center text-yellow-500 lodge-rating">
                                                    <i class="fas fa-star mr-1"></i>
                                                    <span>4.9</span>
                                                </div>
                                            </div>
                                            <div class="flex items-center text-gray-600 mb-2 lodge-location">
                                                <i class="fas fa-map-marker-alt mr-1"></i>
                                                <span>Baguio City</span>
                                            </div>
                                            <div class="text-blue-600 text-sm mb-2">
                                                <i class="fas fa-file-code mr-1"></i>
                                                lodge3.html
                                            </div>
                                            <div class="flex flex-wrap gap-2 mb-3">
                                                <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">Mountain View</span>
                                                <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">WiFi</span>
                                                <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">Fireplace</span>
                                            </div>
                                            <div class="flex justify-between items-center mt-2">
                                                <div class="text-sm text-gray-600">Cabin</div>
                                                <div class="lodge-price">
                                                    <div class="text-gray-800 font-bold price">
                                                        ₱3,200
                                                        <span class="text-gray-500 text-xs">/night</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    `;
                                    
                                    // Add the card to the container
                                    lodgeContainer.appendChild(lodge3Card);
                                    
                                    // Add event listeners to the buttons
                                    const viewBtn = lodge3Card.querySelector('.view-btn');
                                    const deleteBtn = lodge3Card.querySelector('.delete-action-btn');
                                    
                                    if (viewBtn && window.app && window.app.viewHomepageLodge) {
                                        viewBtn.addEventListener('click', () => {
                                            window.app.viewHomepageLodge(lodge3Data);
                                        });
                                    }
                                    
                                    if (deleteBtn && window.app && window.app.deleteLodge) {
                                        deleteBtn.addEventListener('click', () => {
                                            window.app.deleteLodge(lodge3Data);
                                        });
                                    }
                                    
                                    // Also try to add to Vue's data model
                                    if (window.app && window.app.allClientLodges) {
                                        if (!window.app.allClientLodges.some(lodge => lodge.id === 'lodge3')) {
                                            window.app.allClientLodges.push(lodge3Data);
                                            console.log('Added lodge3 to Vue data model');
                                        }
                                    }
                                }
                            }, 500); // Wait for the modal content to be rendered
                        }, 300);
                    });
                }
            }, 1000);
        });
    </script>

    <!-- Add script to add manual DOM elements for lodge1 and lodge3 -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Function to manually create a lodge card in the DOM
        function createLodgeCard(lodge, container) {
            if (!container) return;
            
            const existingCard = document.getElementById(`lodge-card-${lodge.id}`);
            if (existingCard) return; // Skip if already exists
            
            // Create a new lodge card
            const lodgeCard = document.createElement('div');
            lodgeCard.id = `lodge-card-${lodge.id}`;
            lodgeCard.className = 'lodge-card';
            
            // Format the price for display
            const formattedPrice = new Intl.NumberFormat('en-PH').format(lodge.price);
            
            // Format the amenities HTML
            const amenitiesHtml = lodge.amenities.slice(0, 3).map(amenity => 
                `<span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">${amenity}</span>`
            ).join('');
            
            // Create the HTML content for the lodge card
            lodgeCard.innerHTML = `
                <div class="relative overflow-hidden" style="height: 160px; max-height: 160px;">
                    <img 
                        src="${lodge.image}" 
                        alt="${lodge.name}"
                        class="w-full h-full object-cover"
                        style="object-position: center; max-height: 100%; display: block;"
                    >
                    <div class="html-file-tag">${lodge.htmlFile}</div>
                    <div class="storage-badge html">HTML</div>
                    <div class="actions-overlay">
                        <button class="admin-action-btn view-btn" title="View details">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="admin-action-btn delete-action-btn" data-lodge-id="${lodge.id}" title="Delete lodge">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    <button class="favorite-btn">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
                <div class="content p-4">
                    <div class="flex justify-between items-start mb-2">
                        <h2 class="text-lg font-semibold lodge-title">${lodge.name}</h2>
                        <div class="flex items-center text-yellow-500 lodge-rating">
                            <i class="fas fa-star mr-1"></i>
                            <span>${lodge.rating}</span>
                        </div>
                    </div>
                    <div class="flex items-center text-gray-600 mb-2 lodge-location">
                        <i class="fas fa-map-marker-alt mr-1"></i>
                        <span>${lodge.location}</span>
                    </div>
                    <div class="text-blue-600 text-sm mb-2">
                        <i class="fas fa-file-code mr-1"></i>
                        ${lodge.htmlFile}
                    </div>
                    <div class="flex flex-wrap gap-2 mb-3">
                        ${amenitiesHtml}
                    </div>
                    <div class="flex justify-between items-center mt-2">
                        <div class="text-sm text-gray-600">
                            ${lodge.propertyType}
                        </div>
                        <div class="lodge-price">
                            <div class="text-gray-800 font-bold price">
                                ₱${formattedPrice}
                                <span class="text-gray-500 text-xs">/night</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Add the card to the container
            container.appendChild(lodgeCard);
            
            // Add event listeners to the buttons
            const viewBtn = lodgeCard.querySelector('.view-btn');
            const deleteBtn = lodgeCard.querySelector('.delete-action-btn');
            
            if (viewBtn && window.app && window.app.viewHomepageLodge) {
                viewBtn.addEventListener('click', () => {
                    window.app.viewHomepageLodge(lodge);
                });
            }
            
            if (deleteBtn && window.app && window.app.deleteLodge) {
                deleteBtn.addEventListener('click', () => {
                    window.app.deleteLodge(lodge);
                });
            }
        }
        
        // Check for the lodge container and add cards periodically
        const checkInterval = setInterval(() => {
            // Only run if the client rooms modal is open
            const modal = document.querySelector('.client-rooms-modal');
            if (!modal || window.getComputedStyle(modal).display === 'none') return;
            
            const lodgeContainer = document.querySelector('.lodge-container');
            if (!lodgeContainer) return;
            
            // Required lodges data - now including lodge13 at the beginning
            const requiredLodges = [
                {
                    id: 'lodge13',
                    name: 'Ever Lodge',
                    htmlFile: 'lodge13.html',
                    location: 'Baguio City',
                    rating: '4.4',
                    price: 1300,
                    propertyType: 'Lodge',
                    amenities: ['WiFi', 'Garden', 'Restaurant'],
                    image: '../../ClientSide/components/6.jpg',
                    description: 'Traditional lodge with modern amenities'
                },
                {
                    id: 'lodge1',
                    name: 'Pine Haven Lodge',
                    htmlFile: 'lodge1.html',
                    location: 'Baguio City',
                    rating: '4.8',
                    price: 6500,
                    propertyType: 'Resort',
                    amenities: ['WiFi', 'Parking', 'Room Service'],
                    image: '../../ClientSide/components/1.jpg',
                    description: 'A peaceful retreat in the mountains'
                },
                {
                    id: 'lodge3',
                    name: 'Baguio Hillside Retreat',
                    htmlFile: 'lodge3.html',
                    location: 'Baguio City',
                    rating: '4.9',
                    price: 3200,
                    propertyType: 'Cabin',
                    amenities: ['Mountain View', 'WiFi', 'Fireplace'],
                    image: '../../ClientSide/components/3.jpg',
                    description: 'A cozy mountain retreat with spectacular views.'
                },
                {
                    id: 'lodge4',
                    name: 'The Forest Lodge',
                    htmlFile: 'lodge4.html',
                    location: 'Baguio City',
                    rating: '4.7',
                    price: 3200,
                    propertyType: 'Lodge',
                    amenities: ['Forest View', 'Private Bath', 'Breakfast'],
                    image: '../../ClientSide/components/4.jpg',
                    description: 'Experience the tranquility of the forest in this comfortable lodge.'
                }
            ];
            
            // Create cards for each required lodge
            requiredLodges.forEach(lodge => {
                createLodgeCard(lodge, lodgeContainer);
            });
            
            // Update count in the UI if needed
            if (window.app && window.app.allClientLodges) {
                const countEl = document.querySelector('.header-actions .font-bold');
                if (countEl) {
                    const lodgeCards = lodgeContainer.querySelectorAll('.lodge-card');
                    countEl.textContent = `Total Lodges: ${lodgeCards.length}`;
                }
            }
        }, 1000);
        
        // Clean up after 3 minutes
        setTimeout(() => {
            clearInterval(checkInterval);
        }, 180000);
    });
</script>

<!-- Add dedicated manual DOM insertion for lodge13 -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            const clientRoomsButton = document.querySelector('.client-room-button');
            if (clientRoomsButton) {
                clientRoomsButton.addEventListener('click', (event) => {
                    console.log('Client Rooms button clicked - will inject lodge13');
                    
                    // Wait for the modal to open
                    setTimeout(() => {
                        // Create the lodge13 data
                        const lodge13Data = {
                            id: 'lodge13',
                            name: 'Ever Lodge',
                            htmlFile: 'lodge13.html',
                            location: 'Baguio City',
                            rating: '4.4',
                            price: 1300,
                            propertyType: 'Lodge',
                            amenities: ['WiFi', 'Garden', 'Restaurant'],
                            image: '../../ClientSide/components/6.jpg',
                            description: 'Traditional lodge with modern amenities'
                        };
                        
                        // Directly inject the lodge card into the DOM if Vue doesn't add it
                        setTimeout(() => {
                            const lodgeContainer = document.querySelector('.lodge-container');
                            const existingLodge13 = document.getElementById('lodge-card-lodge13');
                            
                            if (lodgeContainer && !existingLodge13) {
                                console.log('Manually inserting lodge13 into the DOM');
                                
                                // Create a new lodge card
                                const lodge13Card = document.createElement('div');
                                lodge13Card.id = 'lodge-card-lodge13';
                                lodge13Card.className = 'lodge-card';
                                
                                // Create the HTML content for the lodge card
                                lodge13Card.innerHTML = `
                                    <div class="relative overflow-hidden" style="height: 160px; max-height: 160px;">
                                        <img 
                                            src="../../ClientSide/components/6.jpg" 
                                            alt="Ever Lodge"
                                            class="w-full h-full object-cover"
                                            style="object-position: center; max-height: 100%; display: block;"
                                        >
                                        <div class="html-file-tag">lodge13.html</div>
                                        <div class="storage-badge html">HTML</div>
                                        <div class="actions-overlay">
                                            <button class="admin-action-btn" title="View details">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="admin-action-btn delete-action-btn" data-lodge-id="lodge13" title="Delete lodge">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                        <button class="favorite-btn">
                                            <i class="fas fa-heart"></i>
                                        </button>
                                    </div>
                                    <div class="content p-4">
                                        <div class="flex justify-between items-start mb-2">
                                            <h2 class="text-lg font-semibold lodge-title">Ever Lodge</h2>
                                            <div class="flex items-center text-yellow-500 lodge-rating">
                                                <i class="fas fa-star mr-1"></i>
                                                <span>4.4</span>
                                            </div>
                                        </div>
                                        <div class="flex items-center text-gray-600 mb-2 lodge-location">
                                            <i class="fas fa-map-marker-alt mr-1"></i>
                                            <span>Baguio City</span>
                                        </div>
                                        <div class="text-blue-600 text-sm mb-2">
                                            <i class="fas fa-file-code mr-1"></i>
                                            lodge13.html
                                        </div>
                                        <div class="flex flex-wrap gap-2 mb-3">
                                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">WiFi</span>
                                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">Garden</span>
                                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">Restaurant</span>
                                        </div>
                                        <div class="flex justify-between items-center mt-2">
                                            <div class="text-sm text-gray-600">Lodge</div>
                                            <div class="lodge-price">
                                                <div class="text-gray-800 font-bold price">
                                                    ₱1,300
                                                    <span class="text-gray-500 text-xs">/night</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                `;
                                
                                // Add the card to the beginning of the container to make it first
                                if (lodgeContainer.firstChild) {
                                    lodgeContainer.insertBefore(lodge13Card, lodgeContainer.firstChild);
                                } else {
                                    lodgeContainer.appendChild(lodge13Card);
                                }
                                
                                // Add event listeners to the buttons
                                const viewBtn = lodge13Card.querySelector('.fa-eye').closest('button');
                                const deleteBtn = lodge13Card.querySelector('.fa-trash').closest('button');
                                
                                if (viewBtn && window.app && window.app.viewHomepageLodge) {
                                    viewBtn.addEventListener('click', () => {
                                        window.app.viewHomepageLodge(lodge13Data);
                                    });
                                }
                                
                                if (deleteBtn && window.app && window.app.deleteLodge) {
                                    deleteBtn.addEventListener('click', () => {
                                        window.app.deleteLodge(lodge13Data);
                                    });
                                }
                                
                                // Also try to add to Vue's data model at the beginning of the array
                                if (window.app && window.app.allClientLodges) {
                                    if (!window.app.allClientLodges.some(lodge => lodge.id === 'lodge13')) {
                                        window.app.allClientLodges.unshift(lodge13Data);
                                        console.log('Added lodge13 to Vue data model');
                                    }
                                }
                            }
                        }, 500); // Wait for the modal content to be rendered
                    }, 300);
                });
            }
        }, 1000);
    });
</script>

<!-- Update the fetchClientLodges script to include lodge4 -->
<script type="module">
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            if (window.app) {
                // COMPLETELY REPLACE the fetchClientLodges method with HTML-only lodges
                window.app.fetchClientLodges = async function() {
                    try {
                        this.loading = true;
                        console.log('Starting new HTML-only lodge fetch with prioritized lodges...');

                        // ONLY create HTML-based lodges, no Firestore
                        const htmlLodges = [];
                        
                        // Add lodge1 through lodge13 (HTML files) manually
                        const lodgeDetails = {
                            'lodge1': {
                                name: 'Pine Haven Lodge',
                                location: 'Baguio City',
                                rating: '4.8',
                                price: 6500,
                                propertyType: 'Resort',
                                amenities: ['WiFi', 'Parking', 'Room Service'],
                                description: 'A peaceful retreat in the mountains',
                                image: '../../ClientSide/components/1.jpg'
                            },
                            'lodge3': {
                                name: 'Baguio Hillside Retreat',
                                location: 'Baguio City',
                                rating: '4.9',
                                price: 3200,
                                propertyType: 'Cabin',
                                amenities: ['Mountain View', 'WiFi', 'Fireplace'],
                                description: 'A cozy mountain retreat with spectacular views.',
                                image: '../../ClientSide/components/3.jpg'
                            },
                            'lodge4': {
                                name: 'The Forest Lodge',
                                location: 'Baguio City',
                                rating: '4.7',
                                price: 3200,
                                propertyType: 'Lodge',
                                amenities: ['Forest View', 'Private Bath', 'Breakfast'],
                                description: 'Experience the tranquility of the forest in this comfortable lodge.',
                                image: '../../ClientSide/components/4.jpg'
                            },
                            'lodge13': {
                                name: 'Ever Lodge',
                                location: 'Baguio City',
                                rating: '4.4',
                                price: 1300,
                                propertyType: 'Lodge',
                                amenities: ['WiFi', 'Garden', 'Restaurant'],
                                description: 'Traditional lodge with modern amenities',
                                image: '../../ClientSide/components/6.jpg'
                            },
                            'lodge2': {
                                name: 'Mountain View Lodge',
                                location: 'Baguio City',
                                rating: '4.7',
                                price: 3750,
                                propertyType: 'Hotel',
                                amenities: ['Mountain View', 'Restaurant', 'Bar'],
                                description: 'Experience luxury in the mountains'
                            },
                            'lodge6': {
                                name: 'Sky View Resort',
                                location: 'Baguio City',
                                rating: '4.6',
                                price: 4200,
                                propertyType: 'Resort',
                                amenities: ['Pool', 'Spa', 'Room Service'],
                                description: 'Luxury resort with panoramic views'
                            },
                            'lodge7': {
                                name: 'Cozy Mountain Retreat',
                                location: 'Baguio City',
                                rating: '4.5',
                                price: 2800,
                                propertyType: 'Cabin', 
                                amenities: ['Fireplace', 'Kitchen', 'Parking'],
                                description: 'A charming cabin nestled in the hills'
                            }
                        };

                        // First add the prioritized lodges
                        const prioritizedLodges = ['lodge1', 'lodge3', 'lodge4', 'lodge13'];
                        
                        prioritizedLodges.forEach(id => {
                            const htmlFile = `${id}.html`;
                            const details = lodgeDetails[id];
                            
                            if (details) {
                                htmlLodges.push({
                                    id: id,
                                    name: details.name,
                                    htmlFile: htmlFile,
                                    location: details.location,
                                    rating: details.rating,
                                    price: details.price,
                                    propertyType: details.propertyType,
                                    amenities: details.amenities,
                                    description: details.description,
                                    image: details.image || `../../ClientSide/components/${(parseInt(id.replace('lodge', '')) % 10) + 1}.jpg`
                                });
                            }
                        });
                        
                        // Then generate the rest
                        for (let i = 1; i <= 13; i++) {
                            const id = `lodge${i}`;
                            
                            // Skip prioritized lodges as we've already added them
                            if (prioritizedLodges.includes(id)) continue;
                            
                            const htmlFile = `${id}.html`;
                            
                            // Use specific details if available, otherwise use generic ones
                            const specificDetails = lodgeDetails[id] || {
                                name: `Lodge ${i}`,
                                location: 'Baguio City',
                                rating: '4.5',
                                price: 3000 + (i * 200),
                                propertyType: 'Lodge',
                                amenities: ['WiFi', 'Parking', 'Mountain View'],
                                description: `Standard lodge accommodation in Baguio City`
                            };

                            // Use specific image if provided or generate one
                            const image = specificDetails.image || `../../ClientSide/components/${(i % 10) + 1}.jpg`;

                            // Push the lodge with complete details
                            htmlLodges.push({
                                id: id,
                                name: specificDetails.name,
                                htmlFile: htmlFile,
                                location: specificDetails.location,
                                rating: specificDetails.rating,
                                price: specificDetails.price,
                                propertyType: specificDetails.propertyType,
                                amenities: specificDetails.amenities,
                                description: specificDetails.description,
                                image: image
                            });
                        }
                        
                        // IMPORTANT: Replace the entire array, do not merge with existing data
                        this.allClientLodges = [...htmlLodges];
                        
                        // Ensure the prioritized lodges have the correct information
                        prioritizedLodges.forEach(lodgeId => {
                            const lodge = this.allClientLodges.find(l => l.id === lodgeId);
                            const details = lodgeDetails[lodgeId];
                            
                            if (lodge && details) {
                                // Update all properties to ensure correct data
                                Object.assign(lodge, details);
                                // Ensure the htmlFile property is kept
                                lodge.htmlFile = `${lodgeId}.html`;
                            }
                        });

                        console.log(`HTML-only lodges loaded: ${this.allClientLodges.length} total`);
                        console.log(`Prioritized lodge details verified: ${prioritizedLodges.join(', ')}`);
                        
                        // Double-check that all lodges have an HTML file attribute
                        const nonHtmlLodges = this.allClientLodges.filter(lodge => !lodge.htmlFile);
                        if (nonHtmlLodges.length > 0) {
                            console.warn(`Found ${nonHtmlLodges.length} lodges without htmlFile property - removing them`);
                            this.allClientLodges = this.allClientLodges.filter(lodge => lodge.htmlFile);
                        }
                    } catch (error) {
                        console.error('Error in HTML-only lodge fetching:', error);
                        
                        // Create a minimal fallback with the prioritized lodges
                        this.allClientLodges = [
                            {
                                id: 'lodge1',
                                name: 'Pine Haven Lodge',
                                htmlFile: 'lodge1.html',
                                location: 'Baguio City',
                                rating: '4.8',
                                price: 6500,
                                propertyType: 'Resort',
                                amenities: ['WiFi', 'Parking', 'Room Service'],
                                image: '../../ClientSide/components/1.jpg',
                                description: 'A peaceful retreat in the mountains'
                            },
                            {
                                id: 'lodge3',
                                name: 'Baguio Hillside Retreat',
                                htmlFile: 'lodge3.html',
                                location: 'Baguio City',
                                rating: '4.9',
                                price: 3200,
                                propertyType: 'Cabin',
                                amenities: ['Mountain View', 'WiFi', 'Fireplace'],
                                image: '../../ClientSide/components/3.jpg',
                                description: 'A cozy mountain retreat with spectacular views.'
                            },
                            {
                                id: 'lodge4',
                                name: 'The Forest Lodge',
                                htmlFile: 'lodge4.html',
                                location: 'Baguio City',
                                rating: '4.7',
                                price: 3200,
                                propertyType: 'Lodge',
                                amenities: ['Forest View', 'Private Bath', 'Breakfast'],
                                image: '../../ClientSide/components/4.jpg',
                                description: 'Experience the tranquility of the forest in this comfortable lodge.'
                            },
                            {
                                id: 'lodge13',
                                name: 'Ever Lodge',
                                htmlFile: 'lodge13.html',
                                location: 'Baguio City',
                                rating: '4.4',
                                price: 1300,
                                propertyType: 'Lodge',
                                amenities: ['WiFi', 'Garden', 'Restaurant'],
                                image: '../../ClientSide/components/6.jpg',
                                description: 'Traditional lodge with modern amenities'
                            }
                        ];
                    } finally {
                        this.loading = false;
                    }
                };

                // Rest of the existing code for openClientRoomsModal remains the same
                // ...existing code...
                
                console.log('Replaced lodge display methods with HTML-only versions including lodge4');
            }
        }, 500);
    });
</script>

<!-- Update the script to ensure lodge1, lodge3, lodge4, and lodge13 are included -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            // Function to ensure prioritized lodges are in the client rooms list
            function ensureSpecificLodges() {
                if (!window.app || !window.app.allClientLodges) return false;
                
                let updated = false;
                
                // Key lodges that must be shown
                const requiredLodges = {
                    'lodge1': {
                        id: 'lodge1',
                        name: 'Pine Haven Lodge',
                        htmlFile: 'lodge1.html',
                        location: 'Baguio City',
                        rating: '4.8',
                        price: 6500,
                        propertyType: 'Resort',
                        amenities: ['WiFi', 'Parking', 'Room Service'],
                        image: '../../ClientSide/components/1.jpg',
                        description: 'A peaceful retreat in the mountains'
                    },
                    'lodge3': {
                        id: 'lodge3',
                        name: 'Baguio Hillside Retreat',
                        htmlFile: 'lodge3.html',
                        location: 'Baguio City',
                        rating: '4.9',
                        price: 3200,
                        propertyType: 'Cabin',
                        amenities: ['Mountain View', 'WiFi', 'Fireplace'],
                        image: '../../ClientSide/components/3.jpg',
                        description: 'A cozy mountain retreat with spectacular views.'
                    },
                    'lodge4': {
                        id: 'lodge4',
                        name: 'The Forest Lodge',
                        htmlFile: 'lodge4.html',
                        location: 'Baguio City',
                        rating: '4.7',
                        price: 3200,
                        propertyType: 'Lodge',
                        amenities: ['Forest View', 'Private Bath', 'Breakfast'],
                        image: '../../ClientSide/components/4.jpg',
                        description: 'Experience the tranquility of the forest in this comfortable lodge.'
                    },
                    'lodge13': {
                        id: 'lodge13',
                        name: 'Ever Lodge',
                        htmlFile: 'lodge13.html',
                        location: 'Baguio City',
                        rating: '4.4',
                        price: 1300,
                        propertyType: 'Lodge',
                        amenities: ['WiFi', 'Garden', 'Restaurant'],
                        image: '../../ClientSide/components/6.jpg',
                        description: 'Traditional lodge with modern amenities'
                    }
                };
                
                // Check and add each required lodge if missing
                Object.values(requiredLodges).forEach(requiredLodge => {
                    const existingLodge = window.app.allClientLodges.find(lodge => 
                        lodge.id === requiredLodge.id || 
                        (lodge.htmlFile && lodge.htmlFile === requiredLodge.htmlFile)
                    );
                    
                    if (!existingLodge) {
                        // Add the missing lodge
                        window.app.allClientLodges.unshift(requiredLodge); // Add to beginning of array
                        console.log(`Added ${requiredLodge.name} to client lodges list`);
                        updated = true;
                    }
                });
                
                return updated;
            }
            
            // Add click handler to the client rooms button
            const clientRoomsBtn = document.querySelector('.client-room-button');
            if (clientRoomsBtn) {
                clientRoomsBtn.addEventListener('click', () => {
                    console.log('Client Rooms button clicked - ensuring lodge1, lodge3, lodge4, and lodge13');
                    
                    // Call multiple times to make sure they appear (after different loading stages)
                    setTimeout(() => {
                        const updated = ensureSpecificLodges();
                        if (updated && window.app.$forceUpdate) window.app.$forceUpdate();
                    }, 300);
                    
                    setTimeout(() => {
                        const updated = ensureSpecificLodges();
                        if (updated && window.app.$forceUpdate) window.app.$forceUpdate();
                    }, 800);
                    
                    setTimeout(() => {
                        const updated = ensureSpecificLodges();
                        if (updated && window.app.$forceUpdate) window.app.$forceUpdate();
                    }, 1500);
                });
            }
        }, 1000);
    });
</script>

<!-- Update script to add manual DOM elements for all prioritized lodges -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Function to manually create a lodge card in the DOM
        function createLodgeCard(lodge, container) {
            if (!container) return;
            
            const existingCard = document.getElementById(`lodge-card-${lodge.id}`);
            if (existingCard) return; // Skip if already exists
            
            // Create a new lodge card
            const lodgeCard = document.createElement('div');
            lodgeCard.id = `lodge-card-${lodge.id}`;
            lodgeCard.className = 'lodge-card';
            
            // Format the price for display
            const formattedPrice = new Intl.NumberFormat('en-PH').format(lodge.price);
            
            // Format the amenities HTML
            const amenitiesHtml = lodge.amenities.slice(0, 3).map(amenity => 
                `<span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">${amenity}</span>`
            ).join('');
            
            // Create the HTML content for the lodge card
            lodgeCard.innerHTML = `
                <div class="relative overflow-hidden" style="height: 160px; max-height: 160px;">
                    <img 
                        src="${lodge.image}" 
                        alt="${lodge.name}"
                        class="w-full h-full object-cover"
                        style="object-position: center; max-height: 100%; display: block;"
                    >
                    <div class="html-file-tag">${lodge.htmlFile}</div>
                    <div class="storage-badge html">HTML</div>
                    <div class="actions-overlay">
                        <button class="admin-action-btn view-btn" title="View details">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="admin-action-btn delete-action-btn" data-lodge-id="${lodge.id}" title="Delete lodge">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    <button class="favorite-btn">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
                <div class="content p-4">
                    <div class="flex justify-between items-start mb-2">
                        <h2 class="text-lg font-semibold lodge-title">${lodge.name}</h2>
                        <div class="flex items-center text-yellow-500 lodge-rating">
                            <i class="fas fa-star mr-1"></i>
                            <span>${lodge.rating}</span>
                        </div>
                    </div>
                    <div class="flex items-center text-gray-600 mb-2 lodge-location">
                        <i class="fas fa-map-marker-alt mr-1"></i>
                        <span>${lodge.location}</span>
                    </div>
                    <div class="text-blue-600 text-sm mb-2">
                        <i class="fas fa-file-code mr-1"></i>
                        ${lodge.htmlFile}
                    </div>
                    <div class="flex flex-wrap gap-2 mb-3">
                        ${amenitiesHtml}
                    </div>
                    <div class="flex justify-between items-center mt-2">
                        <div class="text-sm text-gray-600">
                            ${lodge.propertyType}
                        </div>
                        <div class="lodge-price">
                            <div class="text-gray-800 font-bold price">
                                ₱${formattedPrice}
                                <span class="text-gray-500 text-xs">/night</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Add the card to the container
            container.appendChild(lodgeCard);
            
            // Add event listeners to the buttons
            const viewBtn = lodgeCard.querySelector('.view-btn');
            const deleteBtn = lodgeCard.querySelector('.delete-action-btn');
            
            if (viewBtn && window.app && window.app.viewHomepageLodge) {
                viewBtn.addEventListener('click', () => {
                    window.app.viewHomepageLodge(lodge);
                });
            }
            
            if (deleteBtn && window.app && window.app.deleteLodge) {
                deleteBtn.addEventListener('click', () => {
                    window.app.deleteLodge(lodge);
                });
            }
        }
        
        // Check for the lodge container and add cards periodically
        const checkInterval = setInterval(() => {
            // Only run if the client rooms modal is open
            const modal = document.querySelector('.client-rooms-modal');
            if (!modal || window.getComputedStyle(modal).display === 'none') return;
            
            const lodgeContainer = document.querySelector('.lodge-container');
            if (!lodgeContainer) return;
            
            // Required lodges data - now including all prioritized lodges
            const requiredLodges = [
                {
                    id: 'lodge13',
                    name: 'Ever Lodge',
                    htmlFile: 'lodge13.html',
                    location: 'Baguio City',
                    rating: '4.4',
                    price: 1300,
                    propertyType: 'Lodge',
                    amenities: ['WiFi', 'Garden', 'Restaurant'],
                    image: '../../ClientSide/components/6.jpg',
                    description: 'Traditional lodge with modern amenities'
                },
                {
                    id: 'lodge1',
                    name: 'Pine Haven Lodge',
                    htmlFile: 'lodge1.html',
                    location: 'Baguio City',
                    rating: '4.8',
                    price: 6500,
                    propertyType: 'Resort',
                    amenities: ['WiFi', 'Parking', 'Room Service'],
                    image: '../../ClientSide/components/1.jpg',
                    description: 'A peaceful retreat in the mountains'
                },
                {
                    id: 'lodge3',
                    name: 'Baguio Hillside Retreat',
                    htmlFile: 'lodge3.html',
                    location: 'Baguio City',
                    rating: '4.9',
                    price: 3200,
                    propertyType: 'Cabin',
                    amenities: ['Mountain View', 'WiFi', 'Fireplace'],
                    image: '../../ClientSide/components/3.jpg',
                    description: 'A cozy mountain retreat with spectacular views.'
                },
                {
                    id: 'lodge4',
                    name: 'The Forest Lodge',
                    htmlFile: 'lodge4.html',
                    location: 'Baguio City',
                    rating: '4.7',
                    price: 3200,
                    propertyType: 'Lodge',
                    amenities: ['Forest View', 'Private Bath', 'Breakfast'],
                    image: '../../ClientSide/components/4.jpg',
                    description: 'Experience the tranquility of the forest in this comfortable lodge.'
                }
            ];
            
            // Create cards for each required lodge
            requiredLodges.forEach(lodge => {
                createLodgeCard(lodge, lodgeContainer);
            });
            
            // Update count in the UI if needed
            if (window.app && window.app.allClientLodges) {
                const countEl = document.querySelector('.header-actions .font-bold');
                if (countEl) {
                    const lodgeCards = lodgeContainer.querySelectorAll('.lodge-card');
                    countEl.textContent = `Total Lodges: ${lodgeCards.length}`;
                }
            }
        }, 1000);
        
        // Clean up after 3 minutes
        setTimeout(() => {
            clearInterval(checkInterval);
        }, 180000);
    });
</script>

<!-- Add dedicated manual DOM insertion for lodge4 -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            const clientRoomsButton = document.querySelector('.client-room-button');
            if (clientRoomsButton) {
                clientRoomsButton.addEventListener('click', (event) => {
                    console.log('Client Rooms button clicked - will inject lodge4');
                    
                    // Wait for the modal to open
                    setTimeout(() => {
                        // Create the lodge4 data
                        const lodge4Data = {
                            id: 'lodge4',
                            name: 'The Forest Lodge',
                            htmlFile: 'lodge4.html',
                            location: 'Baguio City',
                            rating: '4.7',
                            price: 3200,
                            propertyType: 'Lodge',
                            amenities: ['Forest View', 'Private Bath', 'Breakfast'],
                            image: '../../ClientSide/components/4.jpg',
                            description: 'Experience the tranquility of the forest in this comfortable lodge.'
                        };
                        
                        // Directly inject the lodge card into the DOM if Vue doesn't add it
                        setTimeout(() => {
                            const lodgeContainer = document.querySelector('.lodge-container');
                            const existingLodge4 = document.getElementById('lodge-card-lodge4');
                            
                            if (lodgeContainer && !existingLodge4) {
                                console.log('Manually inserting lodge4 into the DOM');
                                
                                // Create a new lodge card
                                const lodge4Card = document.createElement('div');
                                lodge4Card.id = 'lodge-card-lodge4';
                                lodge4Card.className = 'lodge-card';
                                
                                // Create the HTML content for the lodge card
                                lodge4Card.innerHTML = `
                                    <div class="relative overflow-hidden" style="height: 160px; max-height: 160px;">
                                        <img 
                                            src="../../ClientSide/components/4.jpg" 
                                            alt="The Forest Lodge"
                                            class="w-full h-full object-cover"
                                            style="object-position: center; max-height: 100%; display: block;"
                                        >
                                        <div class="html-file-tag">lodge4.html</div>
                                        <div class="storage-badge html">HTML</div>
                                        <div class="actions-overlay">
                                            <button class="admin-action-btn" title="View details">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="admin-action-btn delete-action-btn" data-lodge-id="lodge4" title="Delete lodge">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                        <button class="favorite-btn">
                                            <i class="fas fa-heart"></i>
                                        </button>
                                    </div>
                                    <div class="content p-4">
                                        <div class="flex justify-between items-start mb-2">
                                            <h2 class="text-lg font-semibold lodge-title">The Forest Lodge</h2>
                                            <div class="flex items-center text-yellow-500 lodge-rating">
                                                <i class="fas fa-star mr-1"></i>
                                                <span>4.7</span>
                                            </div>
                                        </div>
                                        <div class="flex items-center text-gray-600 mb-2 lodge-location">
                                            <i class="fas fa-map-marker-alt mr-1"></i>
                                            <span>Baguio City</span>
                                        </div>
                                        <div class="text-blue-600 text-sm mb-2">
                                            <i class="fas fa-file-code mr-1"></i>
                                            lodge4.html
                                        </div>
                                        <div class="flex flex-wrap gap-2 mb-3">
                                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">Forest View</span>
                                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">Private Bath</span>
                                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">Breakfast</span>
                                        </div>
                                        <div class="flex justify-between items-center mt-2">
                                            <div class="text-sm text-gray-600">Lodge</div>
                                            <div class="lodge-price">
                                                <div class="text-gray-800 font-bold price">
                                                    ₱3,200
                                                    <span class="text-gray-500 text-xs">/night</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                `;
                                
                                // Find where to insert the card (after lodge3)
                                const lodge3Card = document.getElementById('lodge-card-lodge3');
                                if (lodge3Card && lodge3Card.nextSibling) {
                                    lodgeContainer.insertBefore(lodge4Card, lodge3Card.nextSibling);
                                } else {
                                    // Otherwise add it at a position that makes sense
                                    const lodge13Card = document.getElementById('lodge-card-lodge13');
                                    const lodge1Card = document.getElementById('lodge-card-lodge1');
                                    
                                    if (lodge3Card) {
                                        // After lodge3 if it exists
                                        lodgeContainer.insertBefore(lodge4Card, lodge3Card.nextSibling);
                                    } else if (lodge1Card) {
                                        // After lodge1 if it exists
                                        lodgeContainer.insertBefore(lodge4Card, lodge1Card.nextSibling);
                                    } else if (lodge13Card) {
                                        // After lodge13 if it exists
                                        lodgeContainer.insertBefore(lodge4Card, lodge13Card.nextSibling);
                                    } else {
                                        // Just append to the container if nothing else works
                                        lodgeContainer.appendChild(lodge4Card);
                                    }
                                }
                                
                                // Add event listeners to the buttons
                                const viewBtn = lodge4Card.querySelector('.fa-eye').closest('button');
                                const deleteBtn = lodge4Card.querySelector('.fa-trash').closest('button');
                                
                                if (viewBtn && window.app && window.app.viewHomepageLodge) {
                                    viewBtn.addEventListener('click', () => {
                                        window.app.viewHomepageLodge(lodge4Data);
                                    });
                                }
                                
                                if (deleteBtn && window.app && window.app.deleteLodge) {
                                    deleteBtn.addEventListener('click', () => {
                                        window.app.deleteLodge(lodge4Data);
                                    });
                                }
                                
                                // Also try to add to Vue's data model
                                if (window.app && window.app.allClientLodges) {
                                    if (!window.app.allClientLodges.some(lodge => lodge.id === 'lodge4')) {
                                        // Find index of lodge3 to insert after it
                                        const lodge3Index = window.app.allClientLodges.findIndex(lodge => lodge.id === 'lodge3');
                                        if (lodge3Index !== -1) {
                                            window.app.allClientLodges.splice(lodge3Index + 1, 0, lodge4Data);
                                        } else {
                                            window.app.allClientLodges.push(lodge4Data);
                                        }
                                        console.log('Added lodge4 to Vue data model');
                                        
                                        // Force Vue to update
                                        if (window.app.$forceUpdate) {
                                            window.app.$forceUpdate();
                                        }
                                    }
                                }
                            }
                        }, 500); // Wait for the modal content to be rendered
                    }, 300);
                });
            }
        }, 1000);
    });
</script>

<!-- Fix the truncated lodge13 manual insertion script that's causing the syntax error -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            const clientRoomsButton = document.querySelector('.client-room-button');
            if (clientRoomsButton) {
                clientRoomsButton.addEventListener('click', (event) => {
                    console.log('Client Rooms button clicked - will inject lodge13');
                    
                    // Wait for the modal to open
                    setTimeout(() => {
                        // Create the lodge13 data
                        const lodge13Data = {
                            id: 'lodge13',
                            name: 'Ever Lodge',
                            htmlFile: 'lodge13.html',
                            location: 'Baguio City',
                            rating: '4.4',
                            price: 1300,
                            propertyType: 'Lodge',
                            amenities: ['WiFi', 'Garden', 'Restaurant'],
                            image: '../../ClientSide/components/6.jpg',
                            description: 'Traditional lodge with modern amenities'
                        };
                        
                        // Directly inject the lodge card into the DOM if Vue doesn't add it
                        setTimeout(() => {
                            const lodgeContainer = document.querySelector('.lodge-container');
                            const existingLodge13 = document.getElementById('lodge-card-lodge13');
                            
                            if (lodgeContainer && !existingLodge13) {
                                console.log('Manually inserting lodge13 into the DOM');
                                
                                // Create a new lodge card
                                const lodge13Card = document.createElement('div');
                                lodge13Card.id = 'lodge-card-lodge13';
                                lodge13Card.className = 'lodge-card';
                                
                                // Create the HTML content for the lodge card
                                lodge13Card.innerHTML = `
                                    <div class="relative overflow-hidden" style="height: 160px; max-height: 160px;">
                                        <img 
                                            src="../../ClientSide/components/6.jpg" 
                                            alt="Ever Lodge"
                                            class="w-full h-full object-cover"
                                            style="object-position: center; max-height: 100%; display: block;"
                                        >
                                        <div class="html-file-tag">lodge13.html</div>
                                        <div class="storage-badge html">HTML</div>
                                        <div class="actions-overlay">
                                            <button class="admin-action-btn" title="View details">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="admin-action-btn delete-action-btn" data-lodge-id="lodge13" title="Delete lodge">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                        <button class="favorite-btn">
                                            <i class="fas fa-heart"></i>
                                        </button>
                                    </div>
                                    <div class="content p-4">
                                        <div class="flex justify-between items-start mb-2">
                                            <h2 class="text-lg font-semibold lodge-title">Ever Lodge</h2>
                                            <div class="flex items-center text-yellow-500 lodge-rating">
                                                <i class="fas fa-star mr-1"></i>
                                                <span>4.4</span>
                                            </div>
                                        </div>
                                        <div class="flex items-center text-gray-600 mb-2 lodge-location">
                                            <i class="fas fa-map-marker-alt mr-1"></i>
                                            <span>Baguio City</span>
                                        </div>
                                        <div class="text-blue-600 text-sm mb-2">
                                            <i class="fas fa-file-code mr-1"></i>
                                            lodge13.html
                                        </div>
                                        <div class="flex flex-wrap gap-2 mb-3">
                                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">WiFi</span>
                                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">Garden</span>
                                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">Restaurant</span>
                                        </div>
                                        <div class="flex justify-between items-center mt-2">
                                            <div class="text-sm text-gray-600">Lodge</div>
                                            <div class="lodge-price">
                                                <div class="text-gray-800 font-bold price">
                                                    ₱1,300
                                                    <span class="text-gray-500 text-xs">/night</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                `;
                                
                                // Add the card to the beginning of the container to make it first
                                if (lodgeContainer.firstChild) {
                                    lodgeContainer.insertBefore(lodge13Card, lodgeContainer.firstChild);
                                } else {
                                    lodgeContainer.appendChild(lodge13Card);
                                }
                                
                                // Add event listeners to the buttons
                                const viewBtn = lodge13Card.querySelector('.fa-eye').closest('button');
                                const deleteBtn = lodge13Card.querySelector('.fa-trash').closest('button');
                                
                                if (viewBtn && window.app && window.app.viewHomepageLodge) {
                                    viewBtn.addEventListener('click', () => {
                                        window.app.viewHomepageLodge(lodge13Data);
                                    });
                                }
                                
                                if (deleteBtn && window.app && window.app.deleteLodge) {
                                    deleteBtn.addEventListener('click', () => {
                                        window.app.deleteLodge(lodge13Data);
                                    });
                                }
                                
                                // Also try to add to Vue's data model at the beginning of the array
                                if (window.app && window.app.allClientLodges) {
                                    if (!window.app.allClientLodges.some(lodge => lodge.id === 'lodge13')) {
                                        window.app.allClientLodges.unshift(lodge13Data);
                                        console.log('Added lodge13 to Vue data model');
                                    }
                                }
                            }
                        }, 500); // Wait for the modal content to be rendered
                    }, 300);
                });
            }
        }, 1000);
    });
</script>

<!-- Update the fetchClientLodges script to include lodge2 -->
<script type="module">
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            if (window.app) {
                // COMPLETELY REPLACE the fetchClientLodges method with HTML-only lodges
                window.app.fetchClientLodges = async function() {
                    try {
                        this.loading = true;
                        console.log('Starting new HTML-only lodge fetch with prioritized lodges...');

                        // ONLY create HTML-based lodges, no Firestore
                        const htmlLodges = [];
                        
                        // Add lodge1 through lodge13 (HTML files) manually
                        const lodgeDetails = {
                            'lodge1': {
                                name: 'Pine Haven Lodge',
                                location: 'Baguio City',
                                rating: '4.8',
                                price: 6500,
                                propertyType: 'Resort',
                                amenities: ['WiFi', 'Parking', 'Room Service'],
                                description: 'A peaceful retreat in the mountains',
                                image: '../../ClientSide/components/1.jpg'
                            },
                            'lodge2': {
                                name: 'Mountain Breeze Lodge',
                                location: 'Baguio City',
                                rating: '4.7',
                                price: 3200,
                                propertyType: 'Hotel',
                                amenities: ['Mountain View', 'Restaurant', 'Bar'],
                                description: 'Experience luxury in the mountains',
                                image: '../../ClientSide/components/2.jpg'
                            },
                            'lodge3': {
                                name: 'Baguio Hillside Retreat',
                                location: 'Baguio City',
                                rating: '4.9',
                                price: 3200,
                                propertyType: 'Cabin',
                                amenities: ['Mountain View', 'WiFi', 'Fireplace'],
                                description: 'A cozy mountain retreat with spectacular views.',
                                image: '../../ClientSide/components/3.jpg'
                            },
                            'lodge4': {
                                name: 'The Forest Lodge',
                                location: 'Baguio City',
                                rating: '4.7',
                                price: 3200,
                                propertyType: 'Lodge',
                                amenities: ['Forest View', 'Private Bath', 'Breakfast'],
                                description: 'Experience the tranquility of the forest in this comfortable lodge.',
                                image: '../../ClientSide/components/4.jpg'
                            },
                            'lodge13': {
                                name: 'Ever Lodge',
                                location: 'Baguio City',
                                rating: '4.4',
                                price: 1300,
                                propertyType: 'Lodge',
                                amenities: ['WiFi', 'Garden', 'Restaurant'],
                                description: 'Traditional lodge with modern amenities',
                                image: '../../ClientSide/components/6.jpg'
                            },
                            'lodge6': {
                                name: 'Sky View Resort',
                                location: 'Baguio City',
                                rating: '4.6',
                                price: 4200,
                                propertyType: 'Resort',
                                amenities: ['Pool', 'Spa', 'Room Service'],
                                description: 'Luxury resort with panoramic views'
                            },
                            'lodge7': {
                                name: 'Cozy Mountain Retreat',
                                location: 'Baguio City',
                                rating: '4.5',
                                price: 2800,
                                propertyType: 'Cabin', 
                                amenities: ['Fireplace', 'Kitchen', 'Parking'],
                                description: 'A charming cabin nestled in the hills'
                            }
                        };

                        // First add the prioritized lodges
                        const prioritizedLodges = ['lodge1', 'lodge2', 'lodge3', 'lodge4', 'lodge13'];
                        
                        prioritizedLodges.forEach(id => {
                            const htmlFile = `${id}.html`;
                            const details = lodgeDetails[id];
                            
                            if (details) {
                                htmlLodges.push({
                                    id: id,
                                    name: details.name,
                                    htmlFile: htmlFile,
                                    location: details.location,
                                    rating: details.rating,
                                    price: details.price,
                                    propertyType: details.propertyType,
                                    amenities: details.amenities,
                                    description: details.description,
                                    image: details.image || `../../ClientSide/components/${(parseInt(id.replace('lodge', '')) % 10) + 1}.jpg`
                                });
                            }
                        });
                        
                        // Then generate the rest
                        for (let i = 1; i <= 13; i++) {
                            const id = `lodge${i}`;
                            
                            // Skip prioritized lodges as we've already added them
                            if (prioritizedLodges.includes(id)) continue;
                            
                            const htmlFile = `${id}.html`;
                            
                            // Use specific details if available, otherwise use generic ones
                            const specificDetails = lodgeDetails[id] || {
                                name: `Lodge ${i}`,
                                location: 'Baguio City',
                                rating: '4.5',
                                price: 3000 + (i * 200),
                                propertyType: 'Lodge',
                                amenities: ['WiFi', 'Parking', 'Mountain View'],
                                description: `Standard lodge accommodation in Baguio City`
                            };

                            // Use specific image if provided or generate one
                            const image = specificDetails.image || `../../ClientSide/components/${(i % 10) + 1}.jpg`;

                            // Push the lodge with complete details
                            htmlLodges.push({
                                id: id,
                                name: specificDetails.name,
                                htmlFile: htmlFile,
                                location: specificDetails.location,
                                rating: specificDetails.rating,
                                price: specificDetails.price,
                                propertyType: specificDetails.propertyType,
                                amenities: specificDetails.amenities,
                                description: specificDetails.description,
                                image: image
                            });
                        }
                        
                        // IMPORTANT: Replace the entire array, do not merge with existing data
                        this.allClientLodges = [...htmlLodges];
                        
                        // Ensure the prioritized lodges have the correct information
                        prioritizedLodges.forEach(lodgeId => {
                            const lodge = this.allClientLodges.find(l => l.id === lodgeId);
                            const details = lodgeDetails[lodgeId];
                            
                            if (lodge && details) {
                                // Update all properties to ensure correct data
                                Object.assign(lodge, details);
                                // Ensure the htmlFile property is kept
                                lodge.htmlFile = `${lodgeId}.html`;
                            }
                        });

                        console.log(`HTML-only lodges loaded: ${this.allClientLodges.length} total`);
                        console.log(`Prioritized lodge details verified: ${prioritizedLodges.join(', ')}`);
                        
                        // Double-check that all lodges have an HTML file attribute
                        const nonHtmlLodges = this.allClientLodges.filter(lodge => !lodge.htmlFile);
                        if (nonHtmlLodges.length > 0) {
                            console.warn(`Found ${nonHtmlLodges.length} lodges without htmlFile property - removing them`);
                            this.allClientLodges = this.allClientLodges.filter(lodge => lodge.htmlFile);
                        }
                    } catch (error) {
                        console.error('Error in HTML-only lodge fetching:', error);
                        
                        // Create a minimal fallback with the prioritized lodges
                        this.allClientLodges = [
                            {
                                id: 'lodge1',
                                name: 'Pine Haven Lodge',
                                htmlFile: 'lodge1.html',
                                location: 'Baguio City',
                                rating: '4.8',
                                price: 6500,
                                propertyType: 'Resort',
                                amenities: ['WiFi', 'Parking', 'Room Service'],
                                image: '../../ClientSide/components/1.jpg',
                                description: 'A peaceful retreat in the mountains'
                            },
                            {
                                id: 'lodge2',
                                name: 'Mountain Breeze Lodge',
                                htmlFile: 'lodge2.html',
                                location: 'Baguio City',
                                rating: '4.7',
                                price: 3200,
                                propertyType: 'Hotel',
                                amenities: ['Mountain View', 'Restaurant', 'Bar'],
                                image: '../../ClientSide/components/2.jpg',
                                description: 'Experience luxury in the mountains'
                            },
                            {
                                id: 'lodge3',
                                name: 'Baguio Hillside Retreat',
                                htmlFile: 'lodge3.html',
                                location: 'Baguio City',
                                rating: '4.9',
                                price: 3200,
                                propertyType: 'Cabin',
                                amenities: ['Mountain View', 'WiFi', 'Fireplace'],
                                image: '../../ClientSide/components/3.jpg',
                                description: 'A cozy mountain retreat with spectacular views.'
                            },
                            {
                                id: 'lodge4',
                                name: 'The Forest Lodge',
                                htmlFile: 'lodge4.html',
                                location: 'Baguio City',
                                rating: '4.7',
                                price: 3200,
                                propertyType: 'Lodge',
                                amenities: ['Forest View', 'Private Bath', 'Breakfast'],
                                image: '../../ClientSide/components/4.jpg',
                                description: 'Experience the tranquility of the forest in this comfortable lodge.'
                            },
                            {
                                id: 'lodge13',
                                name: 'Ever Lodge',
                                htmlFile: 'lodge13.html',
                                location: 'Baguio City',
                                rating: '4.4',
                                price: 1300,
                                propertyType: 'Lodge',
                                amenities: ['WiFi', 'Garden', 'Restaurant'],
                                image: '../../ClientSide/components/6.jpg',
                                description: 'Traditional lodge with modern amenities'
                            }
                        ];
                    } finally {
                        this.loading = false;
                    }
                };

                // Rest of the existing code for openClientRoomsModal remains the same
                // ...existing code...
                
                console.log('Replaced lodge display methods with HTML-only versions including lodge2');
            }
        }, 500);
    });
</script>

<!-- Update script to add manual DOM elements for all prioritized lodges including lodge2 -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Function to manually create a lodge card in the DOM
        function createLodgeCard(lodge, container) {
            if (!container) return;
            
            const existingCard = document.getElementById(`lodge-card-${lodge.id}`);
            if (existingCard) return; // Skip if already exists
            
            // Create a new lodge card
            const lodgeCard = document.createElement('div');
            lodgeCard.id = `lodge-card-${lodge.id}`;
            lodgeCard.className = 'lodge-card';
            
            // Format the price for display
            const formattedPrice = new Intl.NumberFormat('en-PH').format(lodge.price);
            
            // Format the amenities HTML
            const amenitiesHtml = lodge.amenities.slice(0, 3).map(amenity => 
                `<span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">${amenity}</span>`
            ).join('');
            
            // Create the HTML content for the lodge card
            lodgeCard.innerHTML = `
                <div class="relative overflow-hidden" style="height: 160px; max-height: 160px;">
                    <img 
                        src="${lodge.image}" 
                        alt="${lodge.name}"
                        class="w-full h-full object-cover"
                        style="object-position: center; max-height: 100%; display: block;"
                    >
                    <div class="html-file-tag">${lodge.htmlFile}</div>
                    <div class="storage-badge html">HTML</div>
                    <div class="actions-overlay">
                        <button class="admin-action-btn view-btn" title="View details">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="admin-action-btn delete-action-btn" data-lodge-id="${lodge.id}" title="Delete lodge">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    <button class="favorite-btn">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
                <div class="content p-4">
                    <div class="flex justify-between items-start mb-2">
                        <h2 class="text-lg font-semibold lodge-title">${lodge.name}</h2>
                        <div class="flex items-center text-yellow-500 lodge-rating">
                            <i class="fas fa-star mr-1"></i>
                            <span>${lodge.rating}</span>
                        </div>
                    </div>
                    <div class="flex items-center text-gray-600 mb-2 lodge-location">
                        <i class="fas fa-map-marker-alt mr-1"></i>
                        <span>${lodge.location}</span>
                    </div>
                    <div class="text-blue-600 text-sm mb-2">
                        <i class="fas fa-file-code mr-1"></i>
                        ${lodge.htmlFile}
                    </div>
                    <div class="flex flex-wrap gap-2 mb-3">
                        ${amenitiesHtml}
                    </div>
                    <div class="flex justify-between items-center mt-2">
                        <div class="text-sm text-gray-600">
                            ${lodge.propertyType}
                        </div>
                        <div class="lodge-price">
                            <div class="text-gray-800 font-bold price">
                                ₱${formattedPrice}
                                <span class="text-gray-500 text-xs">/night</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Add the card to the container
            container.appendChild(lodgeCard);
            
            // Add event listeners to the buttons
            const viewBtn = lodgeCard.querySelector('.view-btn');
            const deleteBtn = lodgeCard.querySelector('.delete-action-btn');
            
            if (viewBtn && window.app && window.app.viewHomepageLodge) {
                viewBtn.addEventListener('click', () => {
                    window.app.viewHomepageLodge(lodge);
                });
            }
            
            if (deleteBtn && window.app && window.app.deleteLodge) {
                deleteBtn.addEventListener('click', () => {
                    window.app.deleteLodge(lodge);
                });
            }
        }
        
        // Check for the lodge container and add cards periodically
        const checkInterval = setInterval(() => {
            // Only run if the client rooms modal is open
            const modal = document.querySelector('.client-rooms-modal');
            if (!modal || window.getComputedStyle(modal).display === 'none') return;
            
            const lodgeContainer = document.querySelector('.lodge-container');
            if (!lodgeContainer) return;
            
            // Required lodges data - now including all prioritized lodges with lodge2
            const requiredLodges = [
                {
                    id: 'lodge13',
                    name: 'Ever Lodge',
                    htmlFile: 'lodge13.html',
                    location: 'Baguio City',
                    rating: '4.4',
                    price: 1300,
                    propertyType: 'Lodge',
                    amenities: ['WiFi', 'Garden', 'Restaurant'],
                    image: '../../ClientSide/components/6.jpg',
                    description: 'Traditional lodge with modern amenities'
                },
                {
                    id: 'lodge1',
                    name: 'Pine Haven Lodge',
                    htmlFile: 'lodge1.html',
                    location: 'Baguio City',
                    rating: '4.8',
                    price: 6500,
                    propertyType: 'Resort',
                    amenities: ['WiFi', 'Parking', 'Room Service'],
                    image: '../../ClientSide/components/1.jpg',
                    description: 'A peaceful retreat in the mountains'
                },
                {
                    id: 'lodge2',
                    name: 'Mountain Breeze Lodge',
                    htmlFile: 'lodge2.html',
                    location: 'Baguio City',
                    rating: '4.7',
                    price: 3200,
                    propertyType: 'Hotel',
                    amenities: ['Mountain View', 'Restaurant', 'Bar'],
                    image: '../../ClientSide/components/2.jpg',
                    description: 'Experience luxury in the mountains'
                },
                {
                    id: 'lodge3',
                    name: 'Baguio Hillside Retreat',
                    htmlFile: 'lodge3.html',
                    location: 'Baguio City',
                    rating: '4.9',
                    price: 3200,
                    propertyType: 'Cabin',
                    amenities: ['Mountain View', 'WiFi', 'Fireplace'],
                    image: '../../ClientSide/components/3.jpg',
                    description: 'A cozy mountain retreat with spectacular views.'
                },
                {
                    id: 'lodge4',
                    name: 'The Forest Lodge',
                    htmlFile: 'lodge4.html',
                    location: 'Baguio City',
                    rating: '4.7',
                    price: 3200,
                    propertyType: 'Lodge',
                    amenities: ['Forest View', 'Private Bath', 'Breakfast'],
                    image: '../../ClientSide/components/4.jpg',
                    description: 'Experience the tranquility of the forest in this comfortable lodge.'
                }
            ];
            
            // Create cards for each required lodge
            requiredLodges.forEach(lodge => {
                createLodgeCard(lodge, lodgeContainer);
            });
            
            // Update count in the UI if needed
            if (window.app && window.app.allClientLodges) {
                const countEl = document.querySelector('.header-actions .font-bold');
                if (countEl) {
                    const lodgeCards = lodgeContainer.querySelectorAll('.lodge-card');
                    countEl.textContent = `Total Lodges: ${lodgeCards.length}`;
                }
            }
        }, 1000);
        
        // Clean up after 3 minutes
        setTimeout(() => {
            clearInterval(checkInterval);
        }, 180000);
    });
</script>

<!-- Add dedicated manual DOM insertion for lodge2 -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            const clientRoomsButton = document.querySelector('.client-room-button');
            if (clientRoomsButton) {
                clientRoomsButton.addEventListener('click', (event) => {
                    console.log('Client Rooms button clicked - will inject lodge2');
                    
                    // Wait for the modal to open
                    setTimeout(() => {
                        // Create the lodge2 data
                        const lodge2Data = {
                            id: 'lodge2',
                            name: 'Mountain Breeze Lodge',
                            htmlFile: 'lodge2.html',
                            location: 'Baguio City',
                            rating: '4.7',
                            price: 3200,
                            propertyType: 'Hotel',
                            amenities: ['Mountain View', 'Restaurant', 'Bar'],
                            image: '../../ClientSide/components/2.jpg',
                            description: 'Experience luxury in the mountains'
                        };
                        
                        // Directly inject the lodge card into the DOM if Vue doesn't add it
                        setTimeout(() => {
                            const lodgeContainer = document.querySelector('.lodge-container');
                            const existingLodge2 = document.getElementById('lodge-card-lodge2');
                            
                            if (lodgeContainer && !existingLodge2) {
                                console.log('Manually inserting lodge2 into the DOM');
                                
                                // Create a new lodge card
                                const lodge2Card = document.createElement('div');
                                lodge2Card.id = 'lodge-card-lodge2';
                                lodge2Card.className = 'lodge-card';
                                
                                // Create the HTML content for the lodge card
                                lodge2Card.innerHTML = `
                                    <div class="relative overflow-hidden" style="height: 160px; max-height: 160px;">
                                        <img 
                                            src="../../ClientSide/components/2.jpg" 
                                            alt="Mountain Breeze Lodge"
                                            class="w-full h-full object-cover"
                                            style="object-position: center; max-height: 100%; display: block;"
                                        >
                                        <div class="html-file-tag">lodge2.html</div>
                                        <div class="storage-badge html">HTML</div>
                                        <div class="actions-overlay">
                                            <button class="admin-action-btn" title="View details">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="admin-action-btn delete-action-btn" data-lodge-id="lodge2" title="Delete lodge">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                        <button class="favorite-btn">
                                            <i class="fas fa-heart"></i>
                                        </button>
                                    </div>
                                    <div class="content p-4">
                                        <div class="flex justify-between items-start mb-2">
                                            <h2 class="text-lg font-semibold lodge-title">Mountain Breeze Lodge</h2>
                                            <div class="flex items-center text-yellow-500 lodge-rating">
                                                <i class="fas fa-star mr-1"></i>
                                                <span>4.7</span>
                                            </div>
                                        </div>
                                        <div class="flex items-center text-gray-600 mb-2 lodge-location">
                                            <i class="fas fa-map-marker-alt mr-1"></i>
                                            <span>Baguio City</span>
                                        </div>
                                        <div class="text-blue-600 text-sm mb-2">
                                            <i class="fas fa-file-code mr-1"></i>
                                            lodge2.html
                                        </div>
                                        <div class="flex flex-wrap gap-2 mb-3">
                                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">Mountain View</span>
                                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">Restaurant</span>
                                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">Bar</span>
                                        </div>
                                        <div class="flex justify-between items-center mt-2">
                                            <div class="text-sm text-gray-600">Hotel</div>
                                            <div class="lodge-price">
                                                <div class="text-gray-800 font-bold price">
                                                    ₱3,200
                                                    <span class="text-gray-500 text-xs">/night</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                `;
                                
                                // Add the card to the beginning of the container to make it first
                                if (lodgeContainer.firstChild) {
                                    lodgeContainer.insertBefore(lodge2Card, lodgeContainer.firstChild);
                                } else {
                                    lodgeContainer.appendChild(lodge2Card);
                                }
                                
                                // Add event listeners to the buttons
                                const viewBtn = lodge2Card.querySelector('.fa-eye').closest('button');
                                const deleteBtn = lodge2Card.querySelector('.fa-trash').closest('button');
                                
                                if (viewBtn && window.app && window.app.viewHomepageLodge) {
                                    viewBtn.addEventListener('click', () => {
                                        window.app.viewHomepageLodge(lodge2Data);
                                    });
                                }
                                
                                if (deleteBtn && window.app && window.app.deleteLodge) {
                                    deleteBtn.addEventListener('click', () => {
                                        window.app.deleteLodge(lodge2Data);
                                    });
                                }
                                
                                // Also try to add to Vue's data model at the beginning of the array
                                if (window.app && window.app.allClientLodges) {
                                    if (!window.app.allClientLodges.some(lodge => lodge.id === 'lodge2')) {
                                        window.app.allClientLodges.unshift(lodge2Data);
                                        console.log('Added lodge2 to Vue data model');
                                    }
                                }
                            }
                        }, 500); // Wait for the modal content to be rendered
                    }, 300);
                });
            }
        }, 1000);
    });
</script>

<!-- Update the fetchClientLodges script to include lodge5 -->
<script type="module">
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            if (window.app) {
                // COMPLETELY REPLACE the fetchClientLodges method with HTML-only lodges
                window.app.fetchClientLodges = async function() {
                    try {
                        this.loading = true;
                        console.log('Starting new HTML-only lodge fetch with prioritized lodges...');

                        // ONLY create HTML-based lodges, no Firestore
                        const htmlLodges = [];
                        
                        // Add lodge1 through lodge13 (HTML files) manually
                        const lodgeDetails = {
                            'lodge1': {
                                name: 'Pine Haven Lodge',
                                location: 'Baguio City',
                                rating: '4.8',
                                price: 6500,
                                propertyType: 'Resort',
                                amenities: ['WiFi', 'Parking', 'Room Service'],
                                description: 'A peaceful retreat in the mountains',
                                image: '../../ClientSide/components/1.jpg'
                            },
                            'lodge2': {
                                name: 'Mountain Breeze Lodge',
                                location: 'Baguio City',
                                rating: '4.7',
                                price: 3200,
                                propertyType: 'Hotel',
                                amenities: ['Mountain View', 'Restaurant', 'Bar'],
                                description: 'Experience luxury in the mountains',
                                image: '../../ClientSide/components/2.jpg'
                            },
                            'lodge3': {
                                name: 'Baguio Hillside Retreat',
                                location: 'Baguio City',
                                rating: '4.9',
                                price: 3200,
                                propertyType: 'Cabin',
                                amenities: ['Mountain View', 'WiFi', 'Fireplace'],
                                description: 'A cozy mountain retreat with spectacular views.',
                                image: '../../ClientSide/components/3.jpg'
                            },
                            'lodge4': {
                                name: 'The Forest Lodge',
                                location: 'Baguio City',
                                rating: '4.7',
                                price: 3200,
                                propertyType: 'Lodge',
                                amenities: ['Forest View', 'Private Bath', 'Breakfast'],
                                description: 'Experience the tranquility of the forest in this comfortable lodge.',
                                image: '../../ClientSide/components/4.jpg'
                            },
                            'lodge5': {
                                name: 'Super Apartment',
                                location: 'Bonifacio Street, Baguio City',
                                rating: '4.3',
                                price: 6000,
                                propertyType: 'Apartment',
                                amenities: ['City View', 'WiFi', 'Near Eatery'],
                                description: 'Located in Upper Bonifacion Street, affordable rooms with comfort and security.',
                                image: '../../ClientSide/components/SuperApartmentRoom6.jpg'
                            },
                            'lodge13': {
                                name: 'Ever Lodge',
                                location: 'Baguio City',
                                rating: '4.4',
                                price: 1300,
                                propertyType: 'Lodge',
                                amenities: ['WiFi', 'Garden', 'Restaurant'],
                                description: 'Traditional lodge with modern amenities',
                                image: '../../ClientSide/components/6.jpg'
                            },
                            'lodge6': {
                                name: 'Sky View Resort',
                                location: 'Baguio City',
                                rating: '4.6',
                                price: 4200,
                                propertyType: 'Resort',
                                amenities: ['Pool', 'Spa', 'Room Service'],
                                description: 'Luxury resort with panoramic views'
                            },
                            'lodge7': {
                                name: 'Cozy Mountain Retreat',
                                location: 'Baguio City',
                                rating: '4.5',
                                price: 2800,
                                propertyType: 'Cabin', 
                                amenities: ['Fireplace', 'Kitchen', 'Parking'],
                                description: 'A charming cabin nestled in the hills'
                            }
                        };

                        // First add the prioritized lodges
                        const prioritizedLodges = ['lodge1', 'lodge2', 'lodge3', 'lodge4', 'lodge5', 'lodge13'];
                        
                        prioritizedLodges.forEach(id => {
                            const htmlFile = `${id}.html`;
                            const details = lodgeDetails[id];
                            
                            if (details) {
                                htmlLodges.push({
                                    id: id,
                                    name: details.name,
                                    htmlFile: htmlFile,
                                    location: details.location,
                                    rating: details.rating,
                                    price: details.price,
                                    propertyType: details.propertyType,
                                    amenities: details.amenities,
                                    description: details.description,
                                    image: details.image || `../../ClientSide/components/${(parseInt(id.replace('lodge', '')) % 10) + 1}.jpg`
                                });
                            }
                        });
                        
                        // Then generate the rest
                        for (let i = 1; i <= 13; i++) {
                            const id = `lodge${i}`;
                            
                            // Skip prioritized lodges as we've already added them
                            if (prioritizedLodges.includes(id)) continue;
                            
                            const htmlFile = `${id}.html`;
                            
                            // Use specific details if available, otherwise use generic ones
                            const specificDetails = lodgeDetails[id] || {
                                name: `Lodge ${i}`,
                                location: 'Baguio City',
                                rating: '4.5',
                                price: 3000 + (i * 200),
                                propertyType: 'Lodge',
                                amenities: ['WiFi', 'Parking', 'Mountain View'],
                                description: `Standard lodge accommodation in Baguio City`
                            };

                            // Use specific image if provided or generate one
                            const image = specificDetails.image || `../../ClientSide/components/${(i % 10) + 1}.jpg`;

                            // Push the lodge with complete details
                            htmlLodges.push({
                                id: id,
                                name: specificDetails.name,
                                htmlFile: htmlFile,
                                location: specificDetails.location,
                                rating: specificDetails.rating,
                                price: specificDetails.price,
                                propertyType: specificDetails.propertyType,
                                amenities: specificDetails.amenities,
                                description: specificDetails.description,
                                image: image
                            });
                        }
                        
                        // IMPORTANT: Replace the entire array, do not merge with existing data
                        this.allClientLodges = [...htmlLodges];
                        
                        // Ensure the prioritized lodges have the correct information
                        prioritizedLodges.forEach(lodgeId => {
                            const lodge = this.allClientLodges.find(l => l.id === lodgeId);
                            const details = lodgeDetails[lodgeId];
                            
                            if (lodge && details) {
                                // Update all properties to ensure correct data
                                Object.assign(lodge, details);
                                // Ensure the htmlFile property is kept
                                lodge.htmlFile = `${lodgeId}.html`;
                            }
                        });

                        console.log(`HTML-only lodges loaded: ${this.allClientLodges.length} total`);
                        console.log(`Prioritized lodge details verified: ${prioritizedLodges.join(', ')}`);
                        
                        // Double-check that all lodges have an HTML file attribute
                        const nonHtmlLodges = this.allClientLodges.filter(lodge => !lodge.htmlFile);
                        if (nonHtmlLodges.length > 0) {
                            console.warn(`Found ${nonHtmlLodges.length} lodges without htmlFile property - removing them`);
                            this.allClientLodges = this.allClientLodges.filter(lodge => lodge.htmlFile);
                        }
                    } catch (error) {
                        console.error('Error in HTML-only lodge fetching:', error);
                        
                        // Create a minimal fallback with the prioritized lodges
                        this.allClientLodges = [
                            {
                                id: 'lodge1',
                                name: 'Pine Haven Lodge',
                                htmlFile: 'lodge1.html',
                                location: 'Baguio City',
                                rating: '4.8',
                                price: 6500,
                                propertyType: 'Resort',
                                amenities: ['WiFi', 'Parking', 'Room Service'],
                                image: '../../ClientSide/components/1.jpg',
                                description: 'A peaceful retreat in the mountains'
                            },
                            {
                                id: 'lodge2',
                                name: 'Mountain Breeze Lodge',
                                htmlFile: 'lodge2.html',
                                location: 'Baguio City',
                                rating: '4.7',
                                price: 3200,
                                propertyType: 'Hotel',
                                amenities: ['Mountain View', 'Restaurant', 'Bar'],
                                image: '../../ClientSide/components/2.jpg',
                                description: 'Experience luxury in the mountains'
                            },
                            {
                                id: 'lodge3',
                                name: 'Baguio Hillside Retreat',
                                htmlFile: 'lodge3.html',
                                location: 'Baguio City',
                                rating: '4.9',
                                price: 3200,
                                propertyType: 'Cabin',
                                amenities: ['Mountain View', 'WiFi', 'Fireplace'],
                                image: '../../ClientSide/components/3.jpg',
                                description: 'A cozy mountain retreat with spectacular views.'
                            },
                            {
                                id: 'lodge4',
                                name: 'The Forest Lodge',
                                htmlFile: 'lodge4.html',
                                location: 'Baguio City',
                                rating: '4.7',
                                price: 3200,
                                propertyType: 'Lodge',
                                amenities: ['Forest View', 'Private Bath', 'Breakfast'],
                                image: '../../ClientSide/components/4.jpg',
                                description: 'Experience the tranquility of the forest in this comfortable lodge.'
                            },
                            {
                                id: 'lodge5',
                                name: 'Super Apartment',
                                htmlFile: 'lodge5.html',
                                location: 'Bonifacio Street, Baguio City',
                                rating: '4.3',
                                price: 6000,
                                propertyType: 'Apartment',
                                amenities: ['City View', 'WiFi', 'Near Eatery'],
                                image: '../../ClientSide/components/SuperApartmentRoom6.jpg',
                                description: 'Located in Upper Bonifacion Street, affordable rooms with comfort and security.'
                            },
                            {
                                id: 'lodge13',
                                name: 'Ever Lodge',
                                htmlFile: 'lodge13.html',
                                location: 'Baguio City',
                                rating: '4.4',
                                price: 1300,
                                propertyType: 'Lodge',
                                amenities: ['WiFi', 'Garden', 'Restaurant'],
                                image: '../../ClientSide/components/6.jpg',
                                description: 'Traditional lodge with modern amenities'
                            }
                        ];
                    } finally {
                        this.loading = false;
                    }
                };

                // Rest of the existing code for openClientRoomsModal remains the same
                // ...existing code...
                
                console.log('Replaced lodge display methods with HTML-only versions including lodge5');
            }
        }, 500);
    });
</script>

<!-- Update script to add manual DOM elements for all prioritized lodges including lodge5 -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Function to manually create a lodge card in the DOM
        function createLodgeCard(lodge, container) {
            if (!container) return;
            
            const existingCard = document.getElementById(`lodge-card-${lodge.id}`);
            if (existingCard) return; // Skip if already exists
            
            // Create a new lodge card
            const lodgeCard = document.createElement('div');
            lodgeCard.id = `lodge-card-${lodge.id}`;
            lodgeCard.className = 'lodge-card';
            
            // Format the price for display
            const formattedPrice = new Intl.NumberFormat('en-PH').format(lodge.price);
            
            // Format the amenities HTML
            const amenitiesHtml = lodge.amenities.slice(0, 3).map(amenity => 
                `<span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">${amenity}</span>`
            ).join('');
            
            // Create the HTML content for the lodge card
            lodgeCard.innerHTML = `
                <div class="relative overflow-hidden" style="height: 160px; max-height: 160px;">
                    <img 
                        src="${lodge.image}" 
                        alt="${lodge.name}"
                        class="w-full h-full object-cover"
                        style="object-position: center; max-height: 100%; display: block;"
                    >
                    <div class="html-file-tag">${lodge.htmlFile}</div>
                    <div class="storage-badge html">HTML</div>
                    <div class="actions-overlay">
                        <button class="admin-action-btn view-btn" title="View details">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="admin-action-btn delete-action-btn" data-lodge-id="${lodge.id}" title="Delete lodge">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    <button class="favorite-btn">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
                <div class="content p-4">
                    <div class="flex justify-between items-start mb-2">
                        <h2 class="text-lg font-semibold lodge-title">${lodge.name}</h2>
                        <div class="flex items-center text-yellow-500 lodge-rating">
                            <i class="fas fa-star mr-1"></i>
                            <span>${lodge.rating}</span>
                        </div>
                    </div>
                    <div class="flex items-center text-gray-600 mb-2 lodge-location">
                        <i class="fas fa-map-marker-alt mr-1"></i>
                        <span>${lodge.location}</span>
                    </div>
                    <div class="text-blue-600 text-sm mb-2">
                        <i class="fas fa-file-code mr-1"></i>
                        ${lodge.htmlFile}
                    </div>
                    <div class="flex flex-wrap gap-2 mb-3">
                        ${amenitiesHtml}
                    </div>
                    <div class="flex justify-between items-center mt-2">
                        <div class="text-sm text-gray-600">
                            ${lodge.propertyType}
                        </div>
                        <div class="lodge-price">
                            <div class="text-gray-800 font-bold price">
                                ₱${formattedPrice}
                                <span class="text-gray-500 text-xs">/night</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Add the card to the container
            container.appendChild(lodgeCard);
            
            // Add event listeners to the buttons
            const viewBtn = lodgeCard.querySelector('.view-btn');
            const deleteBtn = lodgeCard.querySelector('.delete-action-btn');
            
            if (viewBtn && window.app && window.app.viewHomepageLodge) {
                viewBtn.addEventListener('click', () => {
                    window.app.viewHomepageLodge(lodge);
                });
            }
            
            if (deleteBtn && window.app && window.app.deleteLodge) {
                deleteBtn.addEventListener('click', () => {
                    window.app.deleteLodge(lodge);
                });
            }
        }
        
        // Check for the lodge container and add cards periodically
        const checkInterval = setInterval(() => {
            // Only run if the client rooms modal is open
            const modal = document.querySelector('.client-rooms-modal');
            if (!modal || window.getComputedStyle(modal).display === 'none') return;
            
            const lodgeContainer = document.querySelector('.lodge-container');
            if (!lodgeContainer) return;
            
            // Required lodges data - now including all prioritized lodges with lodge5
            const requiredLodges = [
                {
                    id: 'lodge13',
                    name: 'Ever Lodge',
                    htmlFile: 'lodge13.html',
                    location: 'Baguio City',
                    rating: '4.4',
                    price: 1300,
                    propertyType: 'Lodge',
                    amenities: ['WiFi', 'Garden', 'Restaurant'],
                    image: '../../ClientSide/components/6.jpg',
                    description: 'Traditional lodge with modern amenities'
                },
                {
                    id: 'lodge1',
                    name: 'Pine Haven Lodge',
                    htmlFile: 'lodge1.html',
                    location: 'Baguio City',
                    rating: '4.8',
                    price: 6500,
                    propertyType: 'Resort',
                    amenities: ['WiFi', 'Parking', 'Room Service'],
                    image: '../../ClientSide/components/1.jpg',
                    description: 'A peaceful retreat in the mountains'
                },
                {
                    id: 'lodge2',
                    name: 'Mountain Breeze Lodge',
                    htmlFile: 'lodge2.html',
                    location: 'Baguio City',
                    rating: '4.7',
                    price: 3200,
                    propertyType: 'Hotel',
                    amenities: ['Mountain View', 'Restaurant', 'Bar'],
                    image: '../../ClientSide/components/2.jpg',
                    description: 'Experience luxury in the mountains'
                },
                {
                    id: 'lodge3',
                    name: 'Baguio Hillside Retreat',
                    htmlFile: 'lodge3.html',
                    location: 'Baguio City',
                    rating: '4.9',
                    price: 3200,
                    propertyType: 'Cabin',
                    amenities: ['Mountain View', 'WiFi', 'Fireplace'],
                    image: '../../ClientSide/components/3.jpg',
                    description: 'A cozy mountain retreat with spectacular views.'
                },
                {
                    id: 'lodge4',
                    name: 'The Forest Lodge',
                    htmlFile: 'lodge4.html',
                    location: 'Baguio City',
                    rating: '4.7',
                    price: 3200,
                    propertyType: 'Lodge',
                    amenities: ['Forest View', 'Private Bath', 'Breakfast'],
                    image: '../../ClientSide/components/4.jpg',
                    description: 'Experience the tranquility of the forest in this comfortable lodge.'
                },
                {
                    id: 'lodge5',
                    name: 'Super Apartment',
                    htmlFile: 'lodge5.html',
                    location: 'Bonifacio Street, Baguio City',
                    rating: '4.3',
                    price: 6000,
                    propertyType: 'Apartment',
                    amenities: ['City View', 'WiFi', 'Near Eatery'],
                    image: '../../ClientSide/components/SuperApartmentRoom6.jpg',
                    description: 'Located in Upper Bonifacion Street, affordable rooms with comfort and security.'
                }
            ];
            
            // Create cards for each required lodge
            requiredLodges.forEach(lodge => {
                createLodgeCard(lodge, lodgeContainer);
            });
            
            // Update count in the UI if needed
            if (window.app && window.app.allClientLodges) {
                const countEl = document.querySelector('.header-actions .font-bold');
                if (countEl) {
                    const lodgeCards = lodgeContainer.querySelectorAll('.lodge-card');
                    countEl.textContent = `Total Lodges: ${lodgeCards.length}`;
                }
            }
        }, 1000);
        
        // Clean up after 3 minutes
        setTimeout(() => {
            clearInterval(checkInterval);
        }, 180000);
    });
</script>

<!-- Add dedicated manual DOM insertion for lodge5 -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            const clientRoomsButton = document.querySelector('.client-room-button');
            if (clientRoomsButton) {
                clientRoomsButton.addEventListener('click', (event) => {
                    console.log('Client Rooms button clicked - will inject lodge5');
                    
                    // Wait for the modal to open
                    setTimeout(() => {
                        // Create the lodge5 data
                        const lodge5Data = {
                            id: 'lodge5',
                            name: 'Super Apartment',
                            htmlFile: 'lodge5.html',
                            location: 'Bonifacio Street, Baguio City',
                            rating: '4.3',
                            price: 6000,
                            propertyType: 'Apartment',
                            amenities: ['City View', 'WiFi', 'Near Eatery'],
                            image: '../../ClientSide/components/SuperApartmentRoom6.jpg',
                            description: 'Located in Upper Bonifacion Street, affordable rooms with comfort and security.'
                        };
                        
                        // Directly inject the lodge card into the DOM if Vue doesn't add it
                        setTimeout(() => {
                            const lodgeContainer = document.querySelector('.lodge-container');
                            const existingLodge5 = document.getElementById('lodge-card-lodge5');
                            
                            if (lodgeContainer && !existingLodge5) {
                                console.log('Manually inserting lodge5 into the DOM');
                                
                                // Create a new lodge card
                                const lodge5Card = document.createElement('div');
                                lodge5Card.id = 'lodge-card-lodge5';
                                lodge5Card.className = 'lodge-card';
                                
                                // Create the HTML content for the lodge card
                                lodge5Card.innerHTML = `
                                    <div class="relative overflow-hidden" style="height: 160px; max-height: 160px;">
                                        <img 
                                            src="../../ClientSide/components/SuperApartmentRoom6.jpg" 
                                            alt="Super Apartment"
                                            class="w-full h-full object-cover"
                                            style="object-position: center; max-height: 100%; display: block;"
                                        >
                                        <div class="html-file-tag">lodge5.html</div>
                                        <div class="storage-badge html">HTML</div>
                                        <div class="actions-overlay">
                                            <button class="admin-action-btn" title="View details">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="admin-action-btn delete-action-btn" data-lodge-id="lodge5" title="Delete lodge">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                        <button class="favorite-btn">
                                            <i class="fas fa-heart"></i>
                                        </button>
                                    </div>
                                    <div class="content p-4">
                                        <div class="flex justify-between items-start mb-2">
                                            <h2 class="text-lg font-semibold lodge-title">Super Apartment</h2>
                                            <div class="flex items-center text-yellow-500 lodge-rating">
                                                <i class="fas fa-star mr-1"></i>
                                                <span>4.3</span>
                                            </div>
                                        </div>
                                        <div class="flex items-center text-gray-600 mb-2 lodge-location">
                                            <i class="fas fa-map-marker-alt mr-1"></i>
                                            <span>Bonifacio Street, Baguio City</span>
                                        </div>
                                        <div class="text-blue-600 text-sm mb-2">
                                            <i class="fas fa-file-code mr-1"></i>
                                            lodge5.html
                                        </div>
                                        <div class="flex flex-wrap gap-2 mb-3">
                                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">City View</span>
                                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">WiFi</span>
                                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded amenity">Near Eatery</span>
                                        </div>
                                        <div class="flex justify-between items-center mt-2">
                                            <div class="text-sm text-gray-600">Apartment</div>
                                            <div class="lodge-price">
                                                <div class="text-gray-800 font-bold price">
                                                    ₱6,000
                                                    <span class="text-gray-500 text-xs">/night</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                `;
                                
                                // Find where to insert the card (after lodge4)
                                const lodge4Card = document.getElementById('lodge-card-lodge4');
                                if (lodge4Card && lodge4Card.nextSibling) {
                                    lodgeContainer.insertBefore(lodge5Card, lodge4Card.nextSibling);
                                } else if (lodge4Card) {
                                    // After lodge4 if it exists
                                    lodgeContainer.insertBefore(lodge5Card, lodge4Card.nextSibling);
                                } else {
                                    // Otherwise add it at a position that makes sense
                                    const lodge3Card = document.getElementById('lodge-card-lodge3');
                                    const lodge2Card = document.getElementById('lodge-card-lodge2');
                                    const lodge1Card = document.getElementById('lodge-card-lodge1');
                                    
                                    if (lodge3Card) {
                                        // After lodge3 if it exists
                                        lodgeContainer.insertBefore(lodge5Card, lodge3Card.nextSibling);
                                    } else if (lodge2Card) {
                                        // After lodge2 if it exists
                                        lodgeContainer.insertBefore(lodge5Card, lodge2Card.nextSibling);
                                    } else if (lodge1Card) {
                                        // After lodge1 if it exists
                                        lodgeContainer.insertBefore(lodge5Card, lodge1Card.nextSibling);
                                    } else {
                                        // Just append to the container if nothing else works
                                        lodgeContainer.appendChild(lodge5Card);
                                    }
                                }
                                
                                // Add event listeners to the buttons
                                const viewBtn = lodge5Card.querySelector('.fa-eye').closest('button');
                                const deleteBtn = lodge5Card.querySelector('.fa-trash').closest('button');
                                
                                if (viewBtn && window.app && window.app.viewHomepageLodge) {
                                    viewBtn.addEventListener('click', () => {
                                        window.app.viewHomepageLodge(lodge5Data);
                                    });
                                }
                                
                                if (deleteBtn && window.app && window.app.deleteLodge) {
                                    deleteBtn.addEventListener('click', () => {
                                        window.app.deleteLodge(lodge5Data);
                                    });
                                }
                                
                                // Also try to add to Vue's data model
                                if (window.app && window.app.allClientLodges) {
                                    if (!window.app.allClientLodges.some(lodge => lodge.id === 'lodge5')) {
                                        // Find index of lodge4 to insert after it
                                        const lodge4Index = window.app.allClientLodges.findIndex(lodge => lodge.id === 'lodge4');
                                        if (lodge4Index !== -1) {
                                            window.app.allClientLodges.splice(lodge4Index + 1, 0, lodge5Data);
                                        } else {
                                            window.app.allClientLodges.push(lodge5Data);
                                        }
                                        console.log('Added lodge5 to Vue data model');
                                        
                                        // Force Vue to update
                                        if (window.app.$forceUpdate) {
                                            window.app.$forceUpdate();
                                        }
                                    }
                                }
                            }
                        }, 500); // Wait for the modal content to be rendered
                    }, 300);
                });
            }
        }, 1000);
    });
</script>

<!-- Update the script to ensure lodge5 is included -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            // Function to ensure prioritized lodges are in the client rooms list
            function ensureSpecificLodges() {
                if (!window.app || !window.app.allClientLodges) return false;
                
                let updated = false;
                
                // Key lodges that must be shown
                const requiredLodges = {
                    'lodge1': {
                        id: 'lodge1',
                        name: 'Pine Haven Lodge',
                        htmlFile: 'lodge1.html',
                        location: 'Baguio City',
                        rating: '4.8',
                        price: 6500,
                        propertyType: 'Resort',
                        amenities: ['WiFi', 'Parking', 'Room Service'],
                        image: '../../ClientSide/components/1.jpg',
                        description: 'A peaceful retreat in the mountains'
                    },
                    'lodge2': {
                        id: 'lodge2',
                        name: 'Mountain Breeze Lodge',
                        htmlFile: 'lodge2.html',
                        location: 'Baguio City',
                        rating: '4.7',
                        price: 3200,
                        propertyType: 'Hotel',
                        amenities: ['Mountain View', 'Restaurant', 'Bar'],
                        image: '../../ClientSide/components/2.jpg',
                        description: 'Experience luxury in the mountains'
                    },
                    'lodge3': {
                        id: 'lodge3',
                        name: 'Baguio Hillside Retreat',
                        htmlFile: 'lodge3.html',
                        location: 'Baguio City',
                        rating: '4.9',
                        price: 3200,
                        propertyType: 'Cabin',
                        amenities: ['Mountain View', 'WiFi', 'Fireplace'],
                        image: '../../ClientSide/components/3.jpg',
                        description: 'A cozy mountain retreat with spectacular views.'
                    },
                    'lodge4': {
                        id: 'lodge4',
                        name: 'The Forest Lodge',
                        htmlFile: 'lodge4.html',
                        location: 'Baguio City',
                        rating: '4.7',
                        price: 3200,
                        propertyType: 'Lodge',
                        amenities: ['Forest View', 'Private Bath', 'Breakfast'],
                        image: '../../ClientSide/components/4.jpg',
                        description: 'Experience the tranquility of the forest in this comfortable lodge.'
                    },
                    'lodge5': {
                        id: 'lodge5',
                        name: 'Super Apartment',
                        htmlFile: 'lodge5.html',
                        location: 'Bonifacio Street, Baguio City',
                        rating: '4.3',
                        price: 6000,
                        propertyType: 'Apartment',
                        amenities: ['City View', 'WiFi', 'Near Eatery'],
                        image: '../../ClientSide/components/SuperApartmentRoom6.jpg',
                        description: 'Located in Upper Bonifacion Street, affordable rooms with comfort and security.'
                    },
                    'lodge13': {
                        id: 'lodge13',
                        name: 'Ever Lodge',
                        htmlFile: 'lodge13.html',
                        location: 'Baguio City',
                        rating: '4.4',
                        price: 1300,
                        propertyType: 'Lodge',
                        amenities: ['WiFi', 'Garden', 'Restaurant'],
                        image: '../../ClientSide/components/6.jpg',
                        description: 'Traditional lodge with modern amenities'
                    }
                };
                
                // Check and add each required lodge if missing
                Object.values(requiredLodges).forEach(requiredLodge => {
                    const existingLodge = window.app.allClientLodges.find(lodge => 
                        lodge.id === requiredLodge.id || 
                        (lodge.htmlFile && lodge.htmlFile === requiredLodge.htmlFile)
                    );
                    
                    if (!existingLodge) {
                        // Add the missing lodge
                        window.app.allClientLodges.unshift(requiredLodge); // Add to beginning of array
                        console.log(`Added ${requiredLodge.name} to client lodges list`);
                        updated = true;
                    }
                });
                
                return updated;
            }
            
            // Add click handler to the client rooms button
            const clientRoomsBtn = document.querySelector('.client-room-button');
            if (clientRoomsBtn) {
                clientRoomsBtn.addEventListener('click', () => {
                    console.log('Client Rooms button clicked - ensuring lodge1, lodge2, lodge3, lodge4, lodge5, and lodge13');
                    
                    // Call multiple times to make sure they appear (after different loading stages)
                    setTimeout(() => {
                        const updated = ensureSpecificLodges();
                        if (updated && window.app.$forceUpdate) window.app.$forceUpdate();
                    }, 300);
                    
                    setTimeout(() => {
                        const updated = ensureSpecificLodges();
                        if (updated && window.app.$forceUpdate) window.app.$forceUpdate();
                    }, 800);
                    
                    setTimeout(() => {
                        const updated = ensureSpecificLodges();
                        if (updated && window.app.$forceUpdate) window.app.$forceUpdate();
                    }, 1500);
                });
            }
        }, 1000);
    });
</script>

<!-- ...existing code... -->
</body>
</html>